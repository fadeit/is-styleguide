/*
 * Importing variables and mixins to keep this file clean
 *
 */
 @import './variables.less';
 @import './mixins.less';

/*
 * Web fonts
 *
 */

@font-face {
  font-family: 'PNL';
  src: url('../fonts/pnl-webfont.eot');
  src: url('../fonts/pnl-webfont.eot?#iefix') format('embedded-opentype'),
  url('../fonts/pnl-webfont.woff') format('woff'),
  url('../fonts/pnl-webfont.ttf') format('truetype'),
  url('../fonts/pnl-webfont.svg#pnl') format('svg');
  font-weight: 300;
  font-style: normal;
}

@font-face {
  font-family: 'PNL';
  src: url('../fonts/pnl-webfont.eot');
  src: url('../fonts/pnl-webfont.eot?#iefix') format('embedded-opentype'),
  url('../fonts/pnl-webfont.woff') format('woff'),
  url('../fonts/pnl-webfont.ttf') format('truetype'),
  url('../fonts/pnl-webfont.svg#pnl') format('svg');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'PNL';
  src: url('../fonts/pnsb-webfont.eot');
  src: url('../fonts/pnsb-webfont.eot?#iefix') format('embedded-opentype'),
  url('../fonts/pnsb-webfont.woff') format('woff'),
  url('../fonts/pnsb-webfont.ttf') format('truetype'),
  url('../fonts/pnsb-webfont.svg#pnl') format('svg');
  font-weight: bold;
  font-style: normal;
}

.is-svg{
  .inline-block();
}

/*
 * NEW! Material-specific styles
 */

//Hues
header, section, footer, article{
  [class*='hue']{
    a{
      .col(@col_text);
    }
  }

  .hue-1{
    .col(darken(@hue50, 15%), b);

    [class^='is-label']{
      .col(@w);
    }

    [class$='__inner']{
      border-color:@hue50;
    }

    .silent{
      .col(darken(@w, 5%));
    }
  }

  button.md-button.hue-1, button.md-button.md-fab.hue-1{
    .col(darken(@hue50, 15%), b);
    .col(@w);

    &:hover, &:focus{
      .col(@hue50, b);
    }
  }

  li.hue-1{
    .col(transparent, b);
    color:darken(@hue50, 15%);

    a{
      .fa, .menu-icon{
        .col(darken(@hue50, 15%));
      }
    }
  }

  li.hue-1.active{
    a{
      .col(darken(@hue50, 15%));

      &:hover, &:focus{
        .col(darken(@hue50, 15%));
      }
    }
  }

  //Hue 5
  .hue-5{
    .col(darken(@hue500, 15%), b);

    [class^='is-label']{
      .col(@w);
    }

    [class$='__inner']{
      border-color:@hue500;
    }

    .silent{
      .col(darken(@w, 5%));
    }
  }

  button.md-button.hue-5, button.md-button.md-fab.hue-5{
    .col(darken(@hue500, 15%), b);
    .col(@w);

    &:hover, &:focus{
      .col(@hue500, b);
    }
  }

  li.hue-5{
    .col(transparent, b);
    color:darken(@hue500, 15%);

    a{
      .fa, .menu-icon{
        .col(darken(@hue500, 15%));
      }
    }
  }

  li.hue-5.active{
    a{
      .col(darken(@hue500, 15%));

      &:hover, &:focus{
        .col(darken(@hue500, 15%));
      }
    }
  }

  //Green
  .hue-green{
    .col(darken(@col_green, 15%), b);

    [class^='is-label']{
      .col(@w);
    }

    [class$='__inner']{
      border-color:@col_green;
    }

    .silent{
      .col(darken(@w, 5%));
    }
  }

  button.md-button.hue-green, button.md-button.md-fab.hue-green{
    .col(darken(@col_green, 15%), b);
    .col(@w);

    &:hover, &:focus{
      .col(@col_green, b);
    }
  }

  li.hue-green{
    .col(transparent, b);

    a{
      .fa, .menu-icon{
        .col(darken(@col_green, 15%));
      }
    }
  }

  li.hue-green.active{
    a{
      .col(darken(@col_green, 15%));

      &:hover, &:focus{
        .col(darken(@col_green, 15%));
      }
    }
  }

  .hue-purple{
    .col(@col_purple, b);

    [class^='is-label']{
      .col(@w);
    }

    [class$='__inner']{
      border-color:lighten(@col_purple, 15%);
    }

    .silent{
      .col(darken(@w, 5%));
    }
  }

  button.md-button.hue-purple, button.md-button.md-fab.hue-purple{
    .col(@col_purple, b);
    .col(@w);

    &:hover, &:focus{
      .col(lighten(@col_purple, 15%), b);
    }
  }

  li.hue-purple{
    .col(transparent, b);

    a{
      .fa, .menu-icon{
        .col(@col_purple);
      }
    }
  }

  li.hue-purple.active{
    a{
      .col(@col_purple);

      &:hover, &:focus{
        .col(@col_purple);
      }
    }
  }
}

//Button style
.md-button{
  text-transform: inherit;
  outline:0;

  &:focus{
    outline:0;
  }
}

.md-button{
  .fa-raised{
    .rel();
    top:1px;
    margin-right:@gs/4;
  }
}

/*
 * Forms and inputs (also includes some link styles [outlines/focus])
 *
 */
label{
  font-weight: normal;
}

a,
textarea,
input {
  outline-color: @col_base_2;

  &:focus{
    outline-style: thin solid;
    outline-color: @col_base_2;
  }
}

textarea,
input {
  outline: 0;
  border: 0;
  border-bottom:@bstm @col_gray_6;
  border-radius:0;
  margin-bottom: 10px;
  padding-left:0;

  &:focus{
    border-bottom:@bstm @col_base_4;
  }
}

textarea{
  max-width:100%;
}

//dropdown menu box shadow + z-index for the button
.dropdown-menu{
  border:0;
  box-shadow: 0 1px 5px 1px rgba(0,0,0,0.2);

  .glyphicon{
    .rel();
    top:2px;
  }
}

.btn-group{
  .dropdown-toggle, .dropdown-toggle.active{
    z-index: 1001;

    &:hover, &:focus{
      z-index:1001;
    }
  }
}

/* Maybe add something like this to text areas
 *

textarea{
  &:before{
    content:"";
    .abs();
    left:-3px;
    height:80%;
    .col(@col_gray_3, b);
  }
}

 *
 */

.input-row{
  margin-bottom:15px;
  padding-top:15px;
  padding-bottom: 18px;
  .rel();

  label{
    .animate(@animation_time_s_short, @transition_default);
    .stretch();
    .inline-block();
    .abs();
    cursor:text;
  }

  label.required{
    &:after{
      content:"*";
      .inline-block();
      margin-left:2px;
      .rel();
      top: 3px;
      font-weight: 300;
      font-size: 18px;
    }
  }

  input, textarea{
    .stretch();
  }

  textarea{
    padding-top:0;
  }

  .help-block{
    .abs();
    top: 43px;
    left:0;
    //margin-top: 0;
    font-size: 13px;
    .col(@w, b);
    .inline-block();
    .stretch();
  }

  .placeholder-color(@w);
  .placeholder-hide();
  //animate placeholder transitions
  .placeholder-animate();
}

.input-row.input-focused{
  label:not(.btn){
    margin-top:-20px;
    font-size:@fs_small - 1;
    .col(@col_base_4);
  }

  label.required{
    &:after{
      top:2px;
      font-size: 14px;
    }
  }

  input, textarea {
    border-bottom:@bstm rgba(202, 202, 202, 0.6);

    &:focus{
      border-bottom:@bstm rgba(202, 202, 202, 0.6);
    }
  }

  .placeholder-show();
  .placeholder-color(@col_gray_6);
}

.input-row.input-focused.has-error{
  input, textarea{
    border-color:@red;
    .col(@red);

    &:focus{
      border-color:@red;
    }
  }
}

.input-row.has-error{
  label{
    .col(@red);
  }

  .placeholder-color(@red);
}

.is-bubble-input{
  .rel();
  .col(@ws, b);

  .bubble-input-img-container{
    .abs();
    left:-65px;
    padding:10px;
    .stretch(h);
    //top:~'calc(50% - 23px)';
    top:0;
    .col(@ws, b);

    img{
      height:45px;
      width:45px;
    }
  }

  .input-row.input-focused{
    label:not(.btn){
      opacity: 0;
      margin-top:0;
    }
  }

  .input-row{
    padding-bottom:0;

    label{
      padding:10px 10px 0 10px;
    }

    label.btn{
      position:static;
      cursor:pointer;
    }
  }

  .textarea-row{
    margin-top:0px;
    padding-top:0px;

    .is-label-md{
      margin-bottom: 0;
    }

    textarea{
      border:@bstm @ws;
      padding:10px 10px 0 10px;
    }
  }

  .is-rating-container{
    .stretch();
    margin-bottom:10px;

    .is-rating-legend{
      margin-left:0;
    }

    .is-rating-group{
      margin-left: -5px;
    }
  }
}

/*
 * Buttons
 *
 */

.btn{
  font-family:@ff_light;
  font-size:@fs_body;

  .glyphicon{
    .rel();
    top:2px;
    margin-right:3px;
    margin-left:-2px;
  }
}

.btn{
  padding: 9px 16px 9px 16px;
  .dropshadow(0 0 7px -2px rgba(0, 0, 0, 0.2));

  .animate(@animation_time_s_short, @transition_default);

  .is-spinner{
    .rel();
    top: 3px;
    left: 2px;
  }
}

.btn-info{
  .col(@col_gray_7);
}

.btn.loading{
  .animate(@animation_time_s_short, @transition_default);
  padding-right: 40px;

  &:after{
    content: '';
    width: 18px;
    height: 18px;
    .abs();
    margin: 1px 5px 0 10px;
    .inline-block();
    border-top: @bstm @w;
    border-bottom: @bstm @w;
    border-right: @bstm transparent;
    border-left: @bstm transparent;
    .border-radius(50%);
    animation-name: spinnerAnimation;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    animation-duration: 0.75s;
  }
}

.btn-primary.dark{
  .col(@col_base_4, b);
  border: @bst darken(@col_base_4, 5%);

  &:hover, &:focus{
    .col(lighten(@col_base_4, 5%), b);
    border: @bst @col_base_4;
  }
}

//TODO:
//add to sg docs
.btn.stretch{
  width:100%;
  margin-bottom:10px;

  @media only screen and (min-width:@bp_xs){
    width:auto;
  }
}

//fav button
.btn-spe {
  .rel();
  overflow:hidden;
  margin:0;
  .border-radius(0);
  .col(@col_gray_5, b);

  &:after{
    left: -100%;
    .animate(@animation_time_short, @transition_default);
  }

  &:before{
    speak: none;
    .rel();
    -webkit-font-smoothing: antialiased;
    .animate(@animation_time_short, @transition_default);
  }

  &:before, &:after{
    .inline-block();
    .rel();
    .ta-c();
    .stretch();
  }
}

/* Pseudo elements for icons */
.btn-star{
  &:before {
    .col(@w);
    font-size: 26px;
    line-height: 54px;
    content: "\2606";
    backface-visibility: hidden;
  }

  &:after {
    .invis();
    animation-name: dropUp;
    animation-duration: 0.3s;
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
    content: "\2605";
    z-index: 1;
    font-size: 27px;
    line-height: 54px;
    .col(@col_yellow);
    transform: scale(2.5);
    opacity: 0;
    backface-visibility: hidden;
  }

  &:hover, &:focus{
    .col(@w);
    opacity:0.8;
    outline:0;

    &:after{
      .vis();
      animation-name: dropDown;
      animation-duration: 0.3s;
      animation-iteration-count: 1;
      animation-fill-mode: forwards;
      animation-timing-function: linear;
    }
  }

  span{
    .abs();
    left:0;
    top:-3px;
    .stretch();
  }
}

.btn-star.btn-activated {
  opacity:0.8;

  &:after{
    .vis();
    animation-name: dropDown;
    animation-duration: 0.3s;
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
  }
}

//Group of ratings
.is-rating-group{
  .inline-block();
  padding-top:10px;

  label.btn-star{
    padding: 0;
    .fr();
    .animate(@animation_time_short, @transition_default);
    border:none;
    .col(transparent, b);
    .dropshadow(none);

    &:after, &:before{
      .col(@col_gray_6);
    }

    &:hover, &:focus{
      &:after{
        .col(@col_yellow);
      }

      span{
        .animate(@animation_time_short, @transition_default);
        .col(@col_gray_6);
      }
    }

    span{
      .animate(@animation_time_short, @transition_default);
      .col(transparent);
    }
  }

  &:not(:checked){
    input{
      .h();
    }

    label.btn-star{
      &:hover, &:focus{
        ~label.btn-star{

          &:after{
            .col(@col_yellow);
            .vis();
            animation-name: dropDown;
            animation-duration: 0.3s;
            animation-iteration-count: 1;
            animation-fill-mode: forwards;
            animation-timing-function: linear;
          }
        }
      }
    }
  }

  input{
    &:checked ~ label.btn-star{
      &:after{
        .col(@col_yellow);
        .vis();
        animation-name: dropDown;
        animation-duration: 0.3s;
        animation-iteration-count: 1;
        animation-fill-mode: forwards;
        animation-timing-function: linear;
      }

      span{
        opacity:1;
      }
    }

    &:checked + label.btn-star:hover,
    &:checked + label.btn-star:hover ~ label.btn-star,
    &:checked ~ label.btn-star:hover,
    &:checked ~ label.btn-star:hover ~ label.btn-star,
    &:checked + label.btn-star:focus,
    &:checked + label.btn-star:focus ~ label.btn-star,
    &:checked ~ label.btn-star:focus,
    &:checked ~ label.btn-star:focus ~ label.btn-star{
      &:after{
        .col(darken(@col_yellow, 20%));
      }

      label.btn-star:hover ~ input:checked ~ label.btn-star,
      label.btn-star:focus ~ input:checked ~ label.btn-star{
        &:after{
          .col(darken(@col_yellow, 20%));
        }
      }
    }
  }//input
}

.is-rating-legend{
  border:0;
  margin-bottom:-10px;
  margin-left:10px;
  font-size:@fs_small;
}

.btn-spe-sm{
  .btn-spe{
    padding: 0;
    border: 0;
    width: 35px;
    line-height: 35px;
    height: 35px;

    &:before{
      font-size: 21px;
      width: 35px;
      line-height: 35px;
      height: 35px;
    }

    &:after{
      font-size: 21px;
      width: 35px;
      line-height: 35px;
      height: 35px;
    }
  }

  label.btn-partial, .btn-partial.btn-activated{
    cursor:default;
    width: 25px;
    line-height: 25px;
    height: 25px;
    .fl();

    &:before{
      width: 25px;
      line-height: 25px;
      height: 25px;
      .col(@col_gray_5);
    }

    &:after{
      width: 25px;
      line-height: 25px;
      height: 25px;
      .col(@col_yellow);
      top: 0px;
    }
  }

  .quarter-partial, .half-partial, .thirds-partial{
     &:after{
        .abs();
        left: 2px;
        overflow:hidden;
     }
  }

  .btn-partial.quarter-partial{
    &:after{
      width:8px;
    }
  }

  .btn-partial.half-partial{
    &:after{
      width:10px;
    }
  }

  .btn-partial.thirds-partial{
    &:after{
      width:12px;
    }
  }

  .empty-partial{
    &:after{
      .h();
    }
  }
}

.btn-sm{
  padding: 4px 10px 4px 10px;
  font-size: @fs_small;

  .glyphicon{
    .rel();
    top:2px;
    margin-right:3px;
  }
}

.rounded-button-group{
  .ta-c();
}

.btn-round, .btn-round[disabled], .btn-round.active, .btn-round[disabled].active{
  .col(transparent, b);

  &:active, &:focus, &:hover, &:visited{
    .col(transparent, b);
  }
}

.btn-round{
  font-size:@m_fs_small;
  font-weight: bold;
  .ta-c();
  .inline-block();
  .clearfix();
  padding:5px;
  border: 0;

  @media only screen and (min-width:@bp_sm){
    padding:10px;
    font-size:@fs_body;
  }

  &:hover, &:focus{
    .col(transparent, b);
    outline:0;

    .btn-round-inner{
      .col(@col_base_4, b);
      .animate(@animation_time_short, @transition_default);
    }

    .btn-round-text{
      .col(@col_base_4);
      .animate(@animation_time_short, @transition_default);
    }
  }

  .btn-round-inner{
    width:35px;
    height:35px;
    line-height:35px;
    margin:0 auto 5px auto;
    .rounded();
    .block();
    .col(@col_base_3, b);
    .animate(@animation_time_short, @transition_default);

    @media only screen and (min-width:@bp_sm){
      width:45px;
      height:45px;
      line-height:45px;
      margin:0 auto 10px auto;
    }
  }

  .btn-round-text{
    font-weight: 300;
    .inline-block();
    .col(@col_base_3);
    .animate(@animation_time_short, @transition_default);
  }
}

.btn-round.btn-disabled, .btn-round[disabled]{
  cursor:not-allowed;
  opacity:0.7;

   &:hover, &:focus{
    .btn-round-inner{
      .col(@col_gray_6, b);
    }

    .btn-round-text{
      .col(@col_gray_6);
    }
  }

  .btn-round-inner{
    .col(@col_gray_6, b);
  }

  .btn-round-text{
    .col(@col_gray_6);
  }
}

.btn-round.btn-active{
  cursor:default;

  &:hover, &:focus{
    .btn-round-inner{
      .col(@col_base_4, b);
    }

    .btn-round-text{
      .col(@col_base_4);
    }
  }

  .btn-round-inner{
    .col(@col_base_4, b);
  }

  .btn-round-text{
    .col(@col_base_4);
  }
}

.btn-inline{
  padding:0;
  margin:3px 3px 2px 0px;

  .btn-round-inner{
    width:40px;
    height:40px;
    line-height:40px;
    margin:0;
    font-weight: normal;
  }

  &:last-child{
    margin-right:0;
  }
}

/*
 * Core browser display
 *
 */
::selection{
  .col(@col_base_2, b);
  .col(@w);
}
::-moz-selection{
  .col(@col_base_2, b);
  .col(@w);
}


/*
 * Headings: Generating all styles
 *
 */
 @font_size_selector:    "fs_h";
 @line_height_selector:  "lh_h";
 @mobile_font_size_selector:    "m_fs_h";
 @mobile_line_height_selector:  "m_lh_h";

 .generate_headings(@i) when (@i > 0) {
  .generate_headings((@i - 1));

  @font-size: ~"@{font_size_selector}@{i}";
  @line-height: ~"@{line_height_selector}@{i}";
  @mobile-font-size: ~"@{mobile_font_size_selector}@{i}";
  @mobile-line-height: ~"@{mobile_line_height_selector}@{i}";

  h@{i}{
    font-size: @@mobile-font-size;
    line-height: @@mobile-line-height;

    @media only screen and (min-width:@bp_md){
      font-size: @@font-size;
      line-height: @@line-height;
    }
  }
}

  //Generate headings
  .generate_headings(5);

/*
 * Headings: Global properties
 *
 */
  h1, h2, h3, h4, h5{
    font-family: @ff_light;
  }

  //fixes h1 h2 first letter kerning
  h1 {
    margin-left: -2px;
  }

  h2 {
    margin-left: -1px;
  }

  h4{
    .b();
  }

  h5{
    .b();
  }

/*
 * Paragraphs & other typographical elements
 *
 */
body {
  .light();
  font-size: @fs_h5; //bigger on mobile
  line-height: @lh_h5;
  letter-spacing: 0.5px;

  @media only screen and (min-width:@bp_sm){
    font-size: @fs_body;
    line-height: 22px;
  }
}

p{
  margin-bottom:20px;
  font-size: @m_fs_body;
  line-height: @m_lh_body;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_body;
    line-height: @lh_body;
  }
}

.is-label-lg{
  font-size: @m_fs_h2;
  line-height: @m_lh_h2;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_h2;
    line-height: @lh_h2;
  }
}

.is-label-md{
  font-size: @m_fs_h4;
  line-height: @m_lh_h4;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_h4;
    line-height: @lh_h4;
  }
}

.is-labels-sm{
  font-size: @m_fs_body + 1;
  line-height: @m_lh_body + 2;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_body + 1;
    line-height: @lh_body + 2;
  }
}

.is-label-xs{
  font-size: @m_fs_small;
  line-height: @m_lh_small;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_small;
    line-height: @lh_small;
  }
}

[class*='is-label-']{
  .col(@col_text);
  font-family:@ff_light;
}

/*
 * Layout and scaffolding
 *
 */
.container-fluid, .row-fluid{
  .clearfix();
}

.container-height-xs {
  display:table;
  padding-left:0px;
  padding-right:0px;
}

.row-height-xs{
  display:table-row;
}

.col-height-xs{
  display:table-cell;
  float:none;
}

@media only screen and (min-width: @bp_sm) {
  .container-height-sm {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-sm {
    display:table-row;
  }

  .col-height-sm {
    display:table-cell;
    float:none;
  }
}

@media only screen and (min-width: @bp_md) {
  .container-height-md {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-md {
    display:table-row;
  }

  .col-height-md {
    display:table-cell;
    float:none;
  }
}

@media only screen and (min-width: @bp_lg) {
  .container-height-lg {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-lg {
    display:table-row;
  }

  .col-height-lg {
    display:table-cell;
    float:none;
  }
}

.height-top{
  [class*='col-height-']{
    vertical-align: top;
  }
}

.height-bottom{
    [class*='col-height-']{
    vertical-align: bottom;
  }
}

.height-center{
  [class*='col-height-']{
    vertical-align: center;
  }
}

.is-aside-contact{
  .col(#323232, b);

  header{
    a{//contains all elements
      padding: 10px 15px 15px 15px;
      margin-bottom:20px;
      border-bottom: @bst @col_gray_7;
      .clearfix();
      .inline-block();
      .stretch();
      .col(#545454, b);
      .fl();
      .animate(@animation_time_short, @transition_default);

      &:hover, &:focus{
        outline:0;
        .col(@col_gray_5, b);
        .animate(@animation_time_short, @transition_default);

        [class*="is-image-inbox-message"]{
          //from 0 83.82492863939106%;
          background-position: 0 89.8%;

          .animate(@animation_time_short, @transition_default);
        }

        [class*="is-label"]{
          text-transform: capitalize;
          .col(@col_gray_8);
          .animate(@animation_time_short, @transition_default);
        }
      }

      @media only screen and (min-width:@bp_sm){
        padding: 20px 30px 30px 30px;
      }

      [class*="is-image-inbox-message"]{
        .animate(@animation_time_short, @transition_default);
      }

      [class*="is-label"]{
        .col(@ws);
        .animate(@animation_time_short, @transition_default);
      }
    }

    h5.is-label-sm{
      .rel();
      top:10px;
    }

    .is-svg{
      .rel();
      transform: scale(1.1);
      top: 15px;
      .fr();
      margin-right:10px;

      @media only screen and (min-width:@bp_lg){
        top: 20px;
        margin-right:0;
        .fl();
      }
    }

    //just for ref, was deleted
    .round-image{
      img{
        @media only screen and (min-width:@bp_xl){
          max-width: 130px;
        }
      }

      figcaption{
        margin-left: 15px;

        @media only screen and (min-width:@bp_xl){
          margin-top: 20px;
        }
      }
    }
  }

  .contact-body{
    padding: 10px 15px 20px 15px;
    margin-bottom: 20px;

    @media only screen and (min-width:@bp_sm){
      padding: 20px 30px 40px 30px;
    }

    dt{
      margin-top:20px;
      .col(@w);
      .b();
    }

    dd{
      .col(@col_gray_4);

      img{
        max-height: 17px;
      }
    }
  }
}

.is-aside-edit-map{
  .col-xs-24{
    height: 100%;

    .company-map{
      min-height:300px;
      height:100%;
    }
  }
}

.is-map-edit-input{
  .abs();
  margin: 30px @map_edit_input_margin;
  padding: 20px 15px 10px 15px;
  z-index: 1;
  .col(@w, b);
  width: ~'calc(100% - @{map_edit_input_margin}*2)';
}

.is-header{
  @header_offset: 10px;
  padding: @gs*2 @gs*2 @gs @gs*2 + @header_offset;

  h2{
    margin-top:0;
  }

  .is-label-lg{
    margin-bottom: 0;
  }

  &__inner{
    margin: 0 0 @gs -@header_offset;
    border-left:@bstm;
    padding: @gs;

    &__input{
      padding:@gs*2 0;
    }
  }
}

.is-header.image-header{
  .rel();
  padding-left: 75px;
  border-left:0;
  margin-left: -75px;

  &:before{
    content: '';
    .inline-block();
    .abs();
    border-right: @bstm @col_base_3;
    .stretch(h);
    margin-left: -12px;
  }

  img{
    .abs();
    padding-top:4px;
    left:0;
    width:45px;
  }
}

.is-footer{
  margin-top: @gs*2;
  padding:0 @gs*2;
}

.is-aside-right, .is-aside-left{
  @media only screen and (min-width:@bp_sm){
    .rel();
  }

  @media only screen and (min-width:@bp_lg){
    .stretch(h);
    .abs();
  }
}

.is-aside-right{
  right: 0;
}

.is-aside-left{
  left:0;
}

.sidebar-fixed{
  top: 0;
  overflow: auto;

  @media only screen and (min-width:@bp_lg){
    .fix();
  }
}
/*
 * Lists
 *
 */
.is-company-result-list{
  padding:0;
  list-style-type: none;
  .clearfix();

  a{
    .clearfix(); //<a> is a parent, but it's not mandatory to nest the li as a child (much more flexible this way)
    .inline-block();
    outline:0;
    width:100%;

    &:focus{
      opacity:0.8;
    }
  }

  li{
    .clearfix();
    padding: 15px;
    .col(@col_gray_3, b);
    .animate(@animation_time_short, @transition_default);

    @media only screen and (min-width:@bp_md){
      padding: 30px;
    }

    &:nth-child(even){
      .col(@w, b);
    }


    &:hover, &:focus{
      .col(@col_gray_4, b);
      .animate(@animation_time_short, @transition_default);
    }

    [class*='is-label']{
      margin:0;
      .light();

      &:nth-child(1){
        .b();
      }

      &:nth-last-child(2){
        margin-bottom: 20px;
      }
    }

    .is-label-md{
      line-height: 16px;

      @media only screen and (min-width:@bp_md){
        line-height: 22px;
      }
    }

    figure.round-image{
      figcaption{
        .inline-block();
        width: ~'calc(100% - 115px)';
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;

        .is-label-md{
          .inline();
          width: 100%;

          &:first-child{
            &:after{
              content:'\A';
              white-space: pre;
            }
          }
        }

        p.is-label-sm{
          margin-top: 0px;
        }
      }
    }
  }
}

.is-grid-result-list{
  .is-result-list-row{
    @media only screen and (min-width:@bp_sm){
      .col(@w, b);
      border:@bst @col_gray_4;
    }
  }
}

//project list: rectangular images on the right
.is-company-project-list{
  li{
    padding:0;

    figcaption{
      padding:30px;
    }
  }
}

//uniform list (no alt. colors)
.is-uniform-list{
  li{
    .col(@ws, b);
    border-top:@bst @col_gray_4;

    &:nth-child(even){
      .col(@ws, b);
    }

    &:hover{
      .col(@col_gray_4, b);
    }
  }
}

//service list
.is-service-list{
  margin:0 0 20px 0;

  .is-label-md{
    margin-top: 0;
    margin-bottom: 0;
  }

  ul{
    list-style-type: none;
    padding: 0 10px 0 10px;
    margin-bottom:40px;
    .clearfix();

    li{
      line-height: 38px;
    }

    @media only screen and (min-width:@bp_md){
      padding:0;
    }
  }

  ul.presentation{
    li{
      &:before{
        content:'';
        .inline-block();
        background-repeat: no-repeat;
        background-image: url(../images/svg-sprite.svg);
        background-position: -42% 17.3%;
        width: 36.26px;
        height: 23.26px;
        margin-right: 8px;
        margin-left: -20px;
        .rel();
        top: 1px;
        .col(@col_gray_6);
      }
    }
  }
}

.is-inline-remove{
  .animate(@animation_time_v_short, @transition_default);
  .col(@col_gray_7);
  .ta-c();
  .inline-block();
  .pointer();
  .fl();
  margin-right: 10px;
  margin-bottom:5px;

  &:hover{
    .animate(@animation_time_v_short, @transition_default);
    opacity:0.8;
  }

  &:focus, &:active{
    opacity:0.8;
  }

  span{
    .b();
    font-size: 22px;
    .rel();
    top:-1px;
  }
}

/*
 * Inbox
 *
 */
.is-thread{
  min-height:200px;
  border:@bst @ws;
  padding:10px 10px 0 10px;

  @media only screen and (min-width:@bp_sm){
    padding:30px 30px 0 30px;
  }
}

.is-aside-inbox{
  border-right:@bst @ws;
  top: 0;

  @media only screen and (min-width:@bp_sm){
    padding-top:@search_bar_size_sm + 2;
  }

  .inbox-toggle{
    z-index:2;
    padding:15px;
    width:100%;
    .col(rgba(255, 255, 255, 0.9), b);
    .h();

    @media only screen and (min-width:@bp_sm){
      .fix();
    }
  }

  .is-inbox{
    height:100%;
    overflow:auto;

    @media only screen and (min-width:@bp_sm){
      height:~'calc(100% - 47px)';
    }

    header{
      .clearfix();
      .col(@w, b);
      border-top:@bst @col_gray_4;
      border-bottom:@bst @col_gray_4;
      padding:20px 20px 20px 20px;
      text-overflow: ellipsis;
      white-space: nowrap;
      overflow: hidden;

      .is-label-lg{
        line-height: 45px;
        margin-left:20px;
      }

      figure.round-image{
        img{
          max-width:45px;
        }
      }
    }

    .is-company-result-list{
      margin-bottom:0;

      li{
        .pointer();
        padding:20px 10px 10px 10px;
        border-left:@bstt @col_gray_3;

        //change with SVG sprite
        figure{
          .rel();

          .is-svg{
            .abs();
            margin-top: -3px;
            margin-left: 4px;
          }

          .unread-count{
            .abs();
            left: 19px;
            .ta-c();
            top: 9px;
            width: 20px;
            .col(@w);
            font-family:@ff_default;
          }

          img{
            .inline-block();
            margin-left:15px;
            margin-right: 20px;
            .rel();
            top: -12px;
          }

          figcaption{
            .block();
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-left: 70px;
            margin-bottom: 10px;

            .is-label-md{
              .inline();
              .silent();
              margin-bottom:0;
            }

            .is-label-sm{
              .silent();
              line-height: 20px;
              font-size:@fs_small;
            }
          }
        }
        //change with SVG sprite
      }

      li.unread-thread{
        border-left:@bstt @col_gray_6;

        figure{
          figcaption{
            .is-label-md{
              .b();
              .col(@col_text);
            }

            .is-label-sm{
              .col(@col_text);
            }
          }
        }
      }//unread-thread
    }//header
  }
}

.is-aside-inbox.collapsed-inbox{
  .inbox-toggle{
    .inline-block();

    @media only screen and (min-width:@bp_sm){
      .h();
    }
  }

  .hidden-back-to-search{
    .h();
    width:100%;

    @media only screen and (min-width:@bp_sm){
      .inline-block();
    }
  }

  .is-inbox{
    .h();

    @media only screen and (min-width:@bp_sm){
      .block();
    }
  }
}

/*
 * Navigation
 *
 */
//vertical menu
.is-menu-container{
  border-right:@bst @col_gray_4;

  .is-menu{
    .col(@w, b);
    .clearfix();

    ul{
      padding-left: 0;
      display: flex;
      flex-wrap:wrap;
      margin-bottom:0;
      max-width: 100%;
      width: 100%;

      @media only screen and (min-width:@bp_sm){
        align-items: center;
      }

      @media only screen and (min-width:@bp_lg){
        .block();
        margin-bottom:10px;
        .fl();
      }

      li{
        flex-basis:25%;
        flex-grow: 1;
        flex-shrink: 0;
        font-size:@m_fs_small;
        list-style-type: none;
        border:@bst @col_gray_4;
        padding: 10px;
        .animate(@animation_time_short, @transition_default);

        &:hover:not(.submenu){
          .animate(@animation_time_short, @transition_default);
          .col(@col_gray_2, b);
        }

        @media only screen and (min-width:@bp_sm){
          padding-bottom:5px;
          font-size:@fs_body;
          border:0;
          border-bottom:@bst @col_gray_4;
          border-right:@bst @col_base_1;
        }

        @media only screen and (min-width:@bp_lg){
          border-right:0;
        }

        a{
          outline:0;
          .animate(@animation_time_short, @transition_default);
          width:100%;
          line-height:@lh_small;
          .inline-block();
          .ta-c();
          min-height:68px;
          .rel();

          &:hover, &:focus{
            .animate(@animation_time_short, @transition_default);
          }

          &:focus{
            opacity:0.7;
          }

          @media only screen and (min-width:@bp_sm){
            min-height:0;
            .ta-l();
            line-height:@menu_image_height;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
          }

          span.abs-label{
            .abs();
            left:0;
            bottom:0;

            @media only screen and (min-width:@bp_sm){
              position:static;
            }
          }

          .menu-icon{
            .inline-block();
            border:@bstm;
            height:@menu_image_height;
            width:@menu_image_height;
            background-repeat:no-repeat;
            background-position: center;
            .col(@w, b);
            .ta-c();
            overflow: hidden;
            .rel();

            @media only screen and (min-width:@bp_sm){
              .fl();
              margin-right:15px;
            }
          }

          figure.menu-icon{
            margin-bottom: -3px;
            margin-top: -2px;

            .fa{
              font-size: 16px;
              position: relative;
              top: -1px;
            }

            @media only screen and (min-width:@bp_sm){
              margin-bottom:0;
              margin-top:0;
            }
          }

          span{
            @media only screen and (min-width:@bp_sm){
              .inline();
            }
          }

          span:not(.is-svg){
            width: 100%;
            .fl();

            @media only screen and (min-width:@bp_sm){
              width:auto;
              float:none;
            }
          }

          span.is-svg{
            .abs();
            top: -9999px;
            bottom: -9999px;
            left: -9999px;
            right: -9999px;
            margin: auto;
          }

          span.short-edit{
            @media only screen and (min-width:@bp_sm){
              .h();
            }
          }

          .is-icon-bounce-map-top{
            .rel();
            left: -7px;
          }
        }
      }

      li.active:not(.submenu){
        .col(@ws, b);

        &:hover{
          .col(@ws, b);
        }

        a{
          cursor:default;
          font-weight:400;
        }
      }

      li.submenu{
        padding: 0;
        border:none;
        flex-basis:75%;
        display:flex;

        @media only screen and (min-width:@bp_sm){
          flex-basis:50%;
        }

        @media only screen and (min-width:@bp_lg){
          .block();
        }

        ul{
          width:100%;
          margin-bottom:0;

          li{
            padding: 10px 10px 4px 17px;
            border-bottom:@bst darken(@col_gray_3, 5%);

            &:hover{
              .col(darken(@col_gray_3, 5%), b);
            }

            @media only screen and (min-width:@bp_sm){
              padding: 12px 10px 8px 17px;
            }

            @media only screen and (min-width:@bp_lg){
              padding: 5px 10px 0px 17px;
            }

            a{
              line-height: 35px;

              .menu-icon{
                margin-right: 3px;
                height:@submenu_image_height;
                width:@submenu_image_height;

                @media only screen and (min-width:@bp_sm){
                  margin-right:22px;
                }
              }
            }
          }

          li.active{
            .col(@ws, b);
            border-bottom:@bst darken(@ws, 5%);

            &:hover{
              .col(@ws, b);
            }
          }
        }
      } //submenu
    } //ul
  } //is-menu
} //is-menu-container

.navigation-anchor{
  line-height:40px;
  .inline-block();
  font-size:@fs_small;
  width:100%;
  border-bottom:@bst @col_gray_4;
  .animate(@animation_time_v_short, @transition_default);

  a{
    .col(@col_base_4);
    line-height:@lh_small;
    outline:0;

    &:hover, &:focus{
      .animate(@animation_time_v_short, @transition_default);

      .is-icon-reveal{
        .rel();
        .animate(@animation_time_v_short, @transition_default);
        transform:rotate(90deg) translateY(5px);
      }
    }
  }

  .is-icon-reveal{
    height:10px;
    transform:rotate(90deg);
    .animate(@animation_time_v_short, @transition_default);
  }
}

/*
 * Communication: reviews, messages, comments, etc
 *
 */
.is-bubbles{
  padding:15px;

  .bubble-row{
    margin-bottom:30px;
    .rel();

    &:nth-child(even){
      figure{
        .fr();
        right:0;
      }

      .bubble-message-container{
        .fl();
      }
    }

    &:nth-child(odd){
      figure{
        .fl();
        left:0;
      }

      .bubble-message-container{
        .fr();
      }
    }

    figure{
      margin-bottom:10px;

      @media only screen and (min-width:@bp_md){
        margin-bottom:0;
        .ta-c();
        vertical-align: middle;
        .abs();
        top: ~'calc(50% - 120px/2)';
      }

      img{
        .fl();
        .inline-block();

        @media only screen and (min-width:@bp_md){
          float:none;
        }
      }

      figcaption{
        .inline();
        width: auto;
        margin-left: 10px;
        padding-top:10px;

        @media only screen and (min-width:@bp_md){
          margin-top:10px;
          .stretch();
          .ta-c();
          margin-left: 0;
          padding-top:0;
        }
      }
    }

    .bubble-message-container{
      vertical-align: middle;
      padding:20px;
      .col(@col_gray_4, b);
      .border-radius(6px);

      .bubble-message{
        white-space: pre-line;
      }

      .bubble-time{
        .inline-block();
        margin-top:10px;
        font-size:@fs_small;
      }

      .is-rating-group{
        padding-top:0px;
        margin-left:-2px; //for 'visual' alignment
        .stretch();
      }
    }
  }
}

.bubble-row.force-message-left{
  &:nth-child(even){
    figure{
      .fr();
      right:0;
    }

    .bubble-message-container{
      .fl();
    }
  }

  &:nth-child(odd){
    figure{
      .fr();
      right:0;
      left: inherit;
    }

    .bubble-message-container{
      .fl();
    }
  }
}

.bubble-row.force-message-right{
  &:nth-child(even){
    figure{
      .fl();
      left:0;
    }

    .bubble-message-container{
      .fr();
    }
  }

  &:nth-child(odd){
    figure{
      .fl();
      left:0;
      right:inherit;
    }

    .bubble-message-container{
      .fr();
    }
  }
}

.is-bubbles.small-bubbles{
  figure{
    top: ~'calc(50% - 78px/2)';

    img{
      max-width:45px;
    }

    figcaption{
      font-size:@fs_small;
    }
  }
}

//modals
.modal-backdrop{
  .col(#10321D, b);
}

.modal-content{
  padding: 10px;
  border: @bst @ws;

  @media only screen and (min-width:@bp_sm){
    padding:20px;
  }
}

/*
 * Spinners and loaders
 *
 */
.is-loader-container{
  width:200px;
  height:200px;
  margin:30px auto;
  .border-radius(5px);
  .col(@w, b);
  .ta-c();
  padding-top:20px;
  border:@bst @col_gray_4;

  .is-loader{
    width:90px;
    height:90px;
    .col(@w, b);
    overflow:hidden;
    .border-radius(50%);
    border:@bstm @col_base_3;
    .rel();
    margin:15px auto;
    z-index:1;
    -webkit-mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC); //fixes webkit bug

    .element-animation{
      .abs();
      .stretch();
      .stretch(h);
      animation-name:loaderAnimation;
      animation-iteration-count: infinite;
      animation-fill-mode: forwards;
      animation-timing-function: linear;
      animation-duration: 5s;

      img{
        max-width:none;
      }
    }//element-animation
  }//is-loader
}//loader container

.is-story-container{
  .is-loader-container{
    height: 160px;
  }


  .is-loader-story{
    .stretch();
    margin-top:20px;
    margin-bottom:20px;
    .ta-c();
  }//is-loader-story
}

//spinner
.is-spinner{
  width: 18px;
  height: 18px;
  margin: 0 5px 0 5px;
  .inline-block();
  border-top: @bstm @col_base_3;
  border-bottom: @bstm @col_base_3;
  border-right: @bstm transparent;
  border-left: @bstm transparent;
  .border-radius(50%);

  animation-name: spinnerAnimation;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-duration: 0.75s;
}

.light-green-spinner{
  border-top: @bstm @col_base_2;
  border-bottom: @bstm @col_base_2;
}

.gray-spinner{
  border-top: @bstm @col_gray_5;
  border-bottom: @bstm @col_gray_5;
}

.black-spinner{
  border-top: @bstm @b;
  border-bottom: @bstm @b;
}

.white-spinner{
  border-top: @bstm @w;
  border-bottom: @bstm @w;
}

/*
 * NEW! IS-specific el
 */
.is-list{
  list-style-type: none;
  padding-left:0;

  .is-list-item{
    .rel();
    padding:@gs @gs*2;
    .col(@w, b);

    &:nth-child(even){
      .col(@col_gray_3, b);
    }

    &__avatar.md-avatar{
      padding-top:@gs/2;
      font-size: 30px;
    }

    &__btn.md-fab{
      top:@gs*2;
      right:@gs*2;
      transform:none;

      .fa{
        line-height: 1.6;
      }
    }

    &.is-playlist-rows{
      padding:0;

      .is-playlist-rows__inner{
        width:100%;
        display:flex;
        padding:@gs @gs*2;
        transition: background @animation_time_short @transition_default;

        &:hover, &:focus{
          .col(@col_gray_4, b);
          transition: background @animation_time_short @transition_default;
        }

        h3{
          margin-top:0;
        }

        &__image{
          .col(@col_gray_5, b);
          display:flex;
          justify-content:center;
          align-items:center;
        }

        &__details{
          padding:@gs @gs*2;

          &__duration{
            font-family:@ff_default;
            margin-top:-5px;
            color:darken(@col_green, 15%);
          }

          &__slides{
            margin-bottom:0;
          }
        }
      }
    }//is-playlist-rows
  }
}

.is-subheader{
  .md-subheader-content{
    display:flex;

    .no-shrink{
      flex-shrink:0;
    }
  }
}

.is-plus{
  .fix();
  bottom:@gs;
  right:@gs;

  &__trigger{
    .md-fab{
      font-size:20px;

      md-icon{
        display: flex;
        width: 100%;
        height: 100%;
        align-items: center;
        justify-content: center;
      }
    }
  }

  &__actions{
    md-icon.fa{
      color:@col_gray_6;
      line-height:25px;
    }
  }
}

.is-status{
  @status_size: 10px;

  width:@status_size;
  height:@status_size;
  border-radius:50%;
  .inline-block();
  .rel();

  &--off{
    .col(@red, b);
  }

  &--on{
    .col(@col_green, b);
  }
}

.is-msg{
  margin-top:@gs*2;
  margin-bottom:@gs;
  padding:@gs/2 @gs;
  .col(@w);
  border-radius:@br;
  display:flex;
  align-items:center;

  &:before{
    content:"";
    .font-awesome();
    margin-right:@gs/2;
    font-size:20px;
  }
}

.is-error{
  .col(@red, b);

  &:before {
    content:"\f06a";
  }
}

.is-grid{
  padding:@gs/2 0;

  md-grid-tile-footer{
    .col(rgba(0, 0, 0, 0.5), b);
  }
}

.is-grid-tile{
  .col(@ws, b);
  background-repeat: no-repeat;
  background-position: center center;
  //.cover();
  background-size:90%;
  overflow:hidden;

  &:hover, &:focus{
    .is-grid-tile__meta{
      transform:translateY(0px);
      transition:transform @animation_time_short @transition_default;
    }
  }

  p{
    .inline-block();
    width:100%;
    .ta-c();
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  .fa{
    font-size:30px;
    .rel();
    padding-bottom: 25px;
    z-index: 2;
  }

  &__details{
    padding:@gs/2;

    figcaption{
      width:100%;
    }

    &__name{
      margin-top:10px;
      margin-bottom:0px;
    }

    &__date{
      margin-top:-5px;
      margin-bottom:10px;
      .col(@col_gray_3);
    }
  }

  &__meta{
    width:100%;
    .abs();
    top:0;
    left:0;
    padding:@gs/2;
    .col(rgba(0, 0, 0, 0.5), b);
    transform:translateY(-50px);
    transition:transform @animation_time_short @transition_default;

    p{
      margin-bottom:0;
      .col(@w);
    }

    .fa{
      font-size:12px;
      margin-left:5px;
      margin-right:3px;
    }
  }

  &--no-bg{
    .is-grid-tile__meta{
      .col(transparent, b);

      p{
        .col(@hue50);
      }
    }

    figure{
      .col(@ws, b);

      .fa{
        .inline-block();
        .col(@hue50);
      }
    }
  }

  &--cover{
    background-size: cover;
  }

  &--add{
    cursor:pointer;

    &:after{
      .font-awesome();
      content: "\f00c";
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:40px;
      .abs();
      width:100%;
      height:100%;
      top:0;
      left:0;
      .col(transparent);
      .col(rgba(255,255,255,0), b);
      z-index:10;
      transform: scale(1);
      transition: all @animation_time_short @transition_default;
    }

    &:hover, &:focus{
      &:after{
        .col(rgba(255,255,255,0.2), b);
        .col(saturate(@col_green, 10%));
        text-shadow: 2px 3px 2px rgba(0, 0, 0, 0.2);
        transform: scale(1.6);
      }
    }
  }
}

.is-groups{
  padding:0 @gs*2 @gs @gs*2;
  margin:0;

  &:last-child{
    margin-bottom:@gs*2;
  }

  md-list-item{
    border: 1px dashed @col_gray_5;
    .inline-block();
    min-height: 120px;
    min-width: 100px;
    width:100%;
  }

  .md-subheader{
    .col(transparent, b);

    h3{
      margin-bottom:0;
      margin-top:6px;
      width: 100%;

      small{
        font-family:@ff_default;
        font-weight: 300;
      }
    }

    .md-button{
      margin:0 0 0 @gs/4;
      padding:0 @gs;
    }
  }
}

.is-screens{
  min-height:75px;
  margin-bottom:0;

  li{
    .rel();
    min-height:0;
    max-width: 100px;
    .inline-block();
    margin-left: 16px;
    cursor: move;

    &:first-child{
      margin-left:0;
    }
  }

  &__name{
    .abs();
    width: 100%;
    .ta-c();
    top: 20px;
    .col(@col_gray_7);
  }

  li&__tip {
    width:100%;
    max-width:none;
  }
}

/*
 * Flex-row
 */
.flex-row{
  display:flex;
}

//Playlist vars
@ctrl_w: 80px;
@ctrl_h: 80px;
@sld_w: 200px;
@opts_h: 200px;

.is-playlist{
  ul{
    list-style-type: none;
    padding:@gs;
    margin:0;
  }

  &__controls{
    flex-basis:@ctrl_w;
    flex-grow:0;
    display:flex;
    flex-direction:column;
    .col(@col_gray_9, b);
    .boxshadow-right();
    height:100%;
    .rel();
    z-index: 10;

    ul{
      height:100%;
      overflow: auto;
      padding:0;
      padding-bottom:@gs*2;
    }
  }

  &__editing{
    display:flex;
    flex-direction:column;
    flex-grow:1;
    height:100%;
    .rel();

    &__slide-controls{
      height:@gs*2;
      z-index:10;
      display:flex;
      flex-direction:row;
      flex-shrink:0;

      .md-button{
        margin: 0;
        border-radius: 0;
        padding: 0;
        line-height:@gs*2;
        height:@gs*2;
        min-height:@gs*2;
        font-weight: 400;
        padding: 0 16px;

        &:last-child{
          border-top-right-radius: @br;
        }

        .fa{
          margin-right:5px;
          top:8px;
          font-size: 14px;
        }
      }

      md-input-container{
        padding: 0;
        .col(@col_gray_3, b);

        &:first-child{
          border-top-left-radius: @br;
        }

        md-icon{
          line-height: 22px;
          margin-left: @gs;
          top: 6px;
        }

        input{
          margin-bottom: -1px;
          padding: 0px 5px;
          width: 55px;
          margin-left: 35px;
        }

        md-select{
          padding: 0px;
          margin: 0px;
          margin-right:@gs;

          md-select-label{
            min-height: @gs*2;
            top: -5px;
            border-bottom:0;
          }
        }
      }
    }

    &__content{
      display:flex;
      justify-content:center;
      align-items:center;
      height: ~'calc(100% - @{gs}*3)';
      margin:@gs @gs*2 @gs*3 @gs;
      outline:none;
      .rel();
      flex-direction: column;

      #canvas{
        border:@bst @col_gray_4;
        border-top:@bst @col_gray_5;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
        .boxshadow-round();
      }
    }

    &__options{
      flex-basis:@opts_h;
      flex-grow:1;
      flex-shrink:0;
      .col(@col_gray_9, b);
      .col(@w);
      padding: @gs*2;
      .rel();
      overflow:hidden;

      h3{
        margin-top:0;
        padding-right:50px;
        .rel();
      }

      .close-button{
        .abs();
        right:@gs/2;
        top:@gs;
      }

      .fa-cog{
        margin-right: @gs/2;
        .rel();
        top:1px;
      }

      &__inner{
        display:flex;

        md-input-container{
          margin-right: @gs;
          flex-basis:20%;
          flex-direction:row;
          flex-wrap:wrap;
          //own flex props
          display:flex;

          &:last-child{
            padding-right:0;
          }

          md-select{
            padding: 0;
          }

          .md-button{
            margin:0;
            min-width: 0;
          }

          p{
            order: 0;
            margin-top:@gs;
            margin-bottom: @gs/2;
            width:100%;
            font-weight: normal;
            font-family:@ff_default;
          }
        }

        &__controls{
          //control size
          @ctrl_size: 40px;

          border-radius:@br;
          .col(@col_gray_4, b);
          padding: 2px 0;
          width:100%;
          display:flex;
          min-height:@ctrl_size;

          a, input, button, md-select{
            margin-top:0;
            margin-bottom:0;
            flex-basis:100%;
            .col(@col_text);
            height: 35px;
            line-height: 35px;
            text-align: center;
            border-right: @bstm @col_gray_5;
          }

          .md-input{
            padding:0 @gs;
            .ta-l();
          }

          md-select{
            md-select-label{
              border-bottom: 0;
              padding:0 @gs;
              width:100%;
              .ta-l();
            }
          }

          .colorpicker{
            flex-shrink: 0;
          }

          &--single{
            .col(transparent, b);
            padding:0;

            .md-button{
              border:0;
              min-height:@ctrl_size;
            }
          }
        }
      }
    }
  }

  &__slides{
    flex-basis:@sld_w;
    flex-grow:0;
    display:flex;
    flex-direction:column;
    .col(@ws, b);
    .boxshadow-left();
    .rel();

    .close-button{
      .abs();
      top:-15px;
      right:-20px;
      .col(@red);
      height:@gs*2;
      line-height:42px;
      width:38px;

      .fa{
        font-size:24px;
        border-radius:50%;

        &:after{
          content:"";
          .abs();
          width:100%;
          height:100%;
          .col(@w, b);
        }
      }
    }

    ul{
      .fr();
      height:100%;
      overflow: auto;
      padding-bottom:@gs*2;

      li.is-list-item{
        padding:0;
        margin-bottom:@gs;

        figure{
          outline:0;
        }

        figcaption{
          width: 100%;
          padding: @gs/2;
          .col(rgba(0, 0, 0, 0.5), b);
          .col(@w);

          .duration{
            .fr();
            font-size:@fs_small;
          }
        }

        img{
          cursor:ns-resize;

          &:focus{
            outline:0;
          }
        }
      }
    }


    ul.new-slide{
      .col(@w, b);
      flex-shrink: 0;
      padding-bottom: 16px;
      .rel();
      z-index: 2;

      li{
        width:100%;
        min-height:130px;
        .rel();

        .md-button{
          width: 100%;
          height: 100%;
          .abs();
          margin:0;
          padding:0;
          .col(@col_gray_5, b);
          .col(@col_gray_7);
          white-space: normal;
          transition: color @animation_time_short @transition_default;

          &:hover, &:focus{
            transition: color @animation_time_short @transition_default;
            .col(@col_gray_8);
          }

          .fa{
            font-size: 34px;
            width:100%;
            .ta-c();
          }
        }
      }
    }
  }
}

.is-dialog{
  width: 100%;
  overflow:auto;

  md-content{
    width: 100%;
    padding:@gs*2;
  }

  .md-button{
    margin:0;
  }

  &--flexible{
    width:auto;
  }
}

.is-fa-text{
  display:flex;
  align-items: center;

  .fa-main{
    flex-shrink:0;
    padding:@gs;
    margin-right:@gs;
    font-size:40px;
  }
}

.is-controls{
  li{
    a{
      border-bottom:@bst darken(@col_gray_9, 5%);
    }

    &:last-child{
      a{
        border:0;
      }
    }
  }

  &--return{
    a{
      .col(@col_gray_6, b);
    }
  }

  a{
    .col(@w);
    .inline-block();
    min-height: @ctrl_h;
    display:flex;
    flex-direction:column;
    justify-content:center;
    outline:0;
    transition: background-color @animation_time_short @transition_default, color @animation_time_short @transition_default;

    &:hover{
      outline:0;
      .col(@col_gray_3);
      .col(@col_gray_7, b);
      transition: background-color @animation_time_short @transition_default, color @animation_time_short @transition_default;
    }

    span{
      text-align: center;
    }

    .fa{
      font-size:30px;
      margin-bottom:10px;
    }
  }
}

/*
 * Color picker enhancements
 */
.colorpicker{
  flex-shrink: 0;
  display:flex;
  justify-content: center;
  align-items: center;

  .sp-replacer{
    border: 0;
    padding: @gs/2 @gs;
  }

  .sp-dd{
    .rel();
    top:-1px;
  }
}
//Color picker container
.sp-container{
  border-radius: @br;
  .col(@w, b);
  border: @bst @col_gray_5;
  .boxshadow-round();
  padding: 8px;

  input{
    line-height:30px;
    min-height:30px;
    padding:0 @gs/2;
  }

  .sp-button-container{
    margin-top: 10px;
    .fl();
  }

  .sp-cancel{
    //Don't display cancel, clicking anywhere outside the box will cancel (same behaviour in PS, AI, Sketch, etc.)
    display:none;
    font-family:@ff_default;
    .col(@col_text);
    font-size:@fs_small;

    &:hover, &:focus{
      text-decoration: none;
    }
  }

  .sp-choose{
    font-family:@ff_default;
    background:0;
    .col(@col_gray_4, b);
    .col(@col_text);
    border:@bst @col_gray_5;
    font-size:@fs_small;
    padding:@gs/2 @gs;

    &:hover, &:focus{
      outline:0;
      border:@bst @col_gray_5;
      background:0;
      .col(@col_gray_5, b);
      .col(@b);
    }

    &:active{
      box-shadow: none;
    }
  }
}

/*
 * Keyframe animations
 *
 */

//loader
@keyframes loaderAnimation{
  0% {
    transform: translate(-1160px,15px)  ;
  }
  100% {
    transform: translate(0px,15px)  ;
  }
}

//spinner
@keyframes spinnerAnimation{
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate( 180deg );
  }
}

//star rating pop
@keyframes dropDown {
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes dropUp {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(2.5);
  }
}

/*
 * Global properties
 * Can be added as a class to any element
 *
 */
.round-image{ //figure
  img{
    max-width: 77px;
    .fl();
    border: @bst rgba(121, 143, 163, 0.35);
    .round();

    @media only screen and (min-width:@bp_md){
      max-width: 85px;
    }
  }

  figcaption{
    .fl();
    margin-left:30px;
  }
}

.rectangular-image{
  .rel();

  img{
    .fr();
  }
}

.no-padding{
  [class*='row-']{
    padding:0;
  }
}

.bold{
  .b();
}

.silent{
  .light();
  color: @col_gray_6;
}

.rounded{
  .round();
}

.inverse{
  [class*="is-label-"]{
    .col(@ws);
  }

  a{
    .col(@col_gray_4);

    &:hover{
      .col(@ws);
    }
  }
}

//generate with bootstrap
.to-xs{
  @media only screen and (min-width:@bp_xs){
    .h();
  }
}

.to-sm{
  @media only screen and (min-width:@bp_sm){
    .h();
  }
}

.to-md{
  @media only screen and (min-width:@bp_md){
    .h();
  }
}

.to-lg{
  @media only screen and (min-width:@bp_lg){
    .h();
  }
}

.to-xl{
  @media only screen and (min-width:@bp_xl){
    .h();
  }
}

.to-xxl{
  @media only screen and (min-width:@bp_xxl){
    .h();
  }
}

.from-xs{
  .h();

  @media only screen and (min-width:@bp_xs){
    .inline-block();
  }
}

.from-sm{
  .h();

  @media only screen and (min-width:@bp_sm){
    .inline-block();
  }
}

.from-md{
  .h();

  @media only screen and (min-width:@bp_md){
    .inline-block();
  }
}

.from-lg{
  .h();

  @media only screen and (min-width:@bp_lg){
    .inline-block();
  }
}

.from-xl{
  .h();

  @media only screen and (min-width:@bp_xl){
    .inline-block();
  }
}

.from-xxl{
  .h();

  @media only screen and (min-width:@bp_xxl){
    .inline-block();
  }
}
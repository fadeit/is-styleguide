/*
 * Importing variables and mixins to keep this file clean
 *
 */
 @import './variables.less';
 @import './mixins.less';

/*
 * Web fonts
 *
 */

@font-face {
  font-family: 'PNL';
  src: url('../fonts/pnl-webfont.eot');
  src: url('../fonts/pnl-webfont.eot?#iefix') format('embedded-opentype'),
  url('../fonts/pnl-webfont.woff') format('woff'),
  url('../fonts/pnl-webfont.ttf') format('truetype'),
  url('../fonts/pnl-webfont.svg#pnl') format('svg');
  font-weight: 300;
  font-style: normal;
}

@font-face {
  font-family: 'PNL';
  src: url('../fonts/pnl-webfont.eot');
  src: url('../fonts/pnl-webfont.eot?#iefix') format('embedded-opentype'),
  url('../fonts/pnl-webfont.woff') format('woff'),
  url('../fonts/pnl-webfont.ttf') format('truetype'),
  url('../fonts/pnl-webfont.svg#pnl') format('svg');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'PNL';
  src: url('../fonts/pnsb-webfont.eot');
  src: url('../fonts/pnsb-webfont.eot?#iefix') format('embedded-opentype'),
  url('../fonts/pnsb-webfont.woff') format('woff'),
  url('../fonts/pnsb-webfont.ttf') format('truetype'),
  url('../fonts/pnsb-webfont.svg#pnl') format('svg');
  font-weight: bold;
  font-style: normal;
}

.is-svg{
  .inline-block();
}

/*
 * NEW! Material-specific styles
 */
//Button style
.md-button{
  text-transform: inherit;
  outline:0;
  margin-left:0;

  &:focus{
    outline:0;
  }

  .fa{
    margin-right:@gs/4;
  }

  .fa-raised{
    .rel();
    top:1px;
  }

  .fa-calendar{
    top:0;
  }

  &.md-raised:not([disabled]), &.md-raised{
    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.10); //dim down box shadow
    padding:0 @gs;
  }

  &.md-raised.md-raised-plain{
    border: @bst #E6E6E6;
    box-shadow: none;

    &:hover, &:focus{
      background-color:@col_gray_4;
    }
  }
}

.md-icon-button{
  display:flex;
  justify-content:center;
  align-items:center;
}

.md-button.md-fab{
  margin: @gs/4;

  md-icon{
    color:@w;
  }
}

.btn--ripple{
  &:after {
    content: '';
    .abs();
    width: 100%;
    height: 100%;
    border-radius: 50%;
    box-sizing: content-box;
  }

  &:before {
    speak: none;
    font-size: 48px;
    line-height: 90px;
    font-style: normal;
    font-weight: normal;
    font-variant: normal;
    text-transform: none;
    .block();
    -webkit-font-smoothing: antialiased;
  }

  &--on{
    background: rgba(255,255,255,0.1);
    transition: transform ease-out 0.1s, background 0.2s;
    transform: scale(0.93);
    .col(@w);
    animation: rippleBackground 1.3s ease-out 75ms;
    animation-timing-function:linear;
    animation-iteration-count:infinite;

    &:after {
      top: 0;
      left: 0;
      padding: 0;
      z-index: -1;
      box-shadow: 0 0 0 2px rgba(255,255,255,0.1);
      opacity: 0;
      transform: scale(0.9);
      animation: rippleEffect 1.3s ease-out 75ms;
      animation-timing-function:linear;
      animation-iteration-count:infinite;
    }
  }
}

@keyframes rippleEffect {
  0% {
    opacity: 0.3;
  }
  40% {
    opacity: 0.5;
    box-shadow: 0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px @col_base_2, 0 0 0 10px rgba(255,255,255,0.3);
  }
  100% {
    box-shadow: 0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px @col_base_2, 0 0 0 10px rgba(255,255,255,0.3);
    transform: scale(1.6);
    opacity: 0;
  }
}

@keyframes rippleBackground{
  0%{
    transform: scale(1);
  }
  40%{
    transform: scale(0.9);
  }
  100%{
    transform: scale(1);
  }
}


/*
 * Input & form additions
 */
.is-form{
  display: flex;
  flex-direction: column;
  padding:@gs 0;
  width:100%;

  md-input-container{
    label{
      &:not(.md-no-float):not(._md-container-ignore){
        padding-left:0;
      }
    }

    label:not(.md-no-float){
      transform: translate3d(0, 14px, 0) scale(0.75);
    }

    &.md-input-has-value{
      label:not(.md-no-float){
        transform: translate3d(0, 14px, 0) scale(0.75);
      }
    }
  }

  ._md-select-value{
    padding:0;
  }

  &__h{
    margin-bottom:@gs*2;
  }

  &__claim-input{
    text-transform: uppercase;
    font-size:18px;
    margin-bottom:@gs;

    md-input-container{
      width:100%;
    }

    @media only screen and (min-width:@bp_md){
      font-size:20px;
    }

    @media only screen and (min-width:@bp_lg){
      font-size:24px;
    }
  }

  &--inside-collapsible{
    padding-top:@gs*2;
  }

  &--no-padding{
    padding:0;
  }
}

md-input-container{
  padding-left:0;
  padding-right:0;

  .hint-row{
    align-self:flex-end;
    order:-1; //move hint to the beginning of the flex container
  }

  .md-input, .md-button{
    padding:0;
  }
}

md-input-container.input-dark{
  input, textarea, .fa{
    .col(@w);
    .col(transparent, b);
  }
}

md-input-container.input-slim{
  padding-bottom:0;
  padding-top:0;
  margin-bottom:0;
  margin-top:0;

  &--md-select{
    margin-bottom:@gs*2;
  }

  &.md-input-invalid{
    [ng-message]{
      padding-top:0;
    }
  }
}

md-input-container.input-inline{
  flex-direction: row;
  flex-wrap:wrap;

  md-select{
    padding:0;
  }
}

md-input-container.switch{
  padding-bottom: 0;

  md-switch{
    margin-left: 0;
    margin-right: 0;
    margin-top: 0;
  }
}

md-input-container.inline-radios{
  margin-bottom: @gs*3;

  md-radio-group{
    display: flex;

    md-radio-button{
      display: flex;
      margin-right: @gs*2;
      margin-left: 0;
      margin-bottom: 0;
      margin-top: 0;
    }
  }
}

//Wrapper for md-input container + select
.input-select-inline{
  //The dimensions & weird looking tweaks are the result of IE fixes...
  &__inner{
   display: flex;
   flex-wrap:wrap;
   align-items: flex-start;
  }

  &.input-select-inline{
    input[type="number"]{
      margin:0;
    }
  }

  .fa{
   display:flex;
   align-items:center;
  }

  md-input-container{
   flex-basis: 80px;
   flex-grow: 2;
   flex-shrink: 0;
   margin-bottom:0;
   margin-top:0;

    input.md-input{
     min-height: 31px;
     //margin-left: 20px; needed for .fa
     flex-grow:1;
     flex-shrink:1;
     margin-top:0;
     margin-bottom:0;
     line-height:1em;
     margin: 0px;
    }
  }

  md-select{
    md-select-value{
      top:-@gs;
      min-height: 28px;
    }
  }
}

//Select
md-select{
  flex-grow:1;
}

//Tooltip
md-tooltip{
  display:flex;
  max-width: 300px;

  .md-content{
    white-space:normal;
    overflow: auto;
    height:auto;
  }
}

//Content
md-content{
  background-color:@w;
}

//Dialog
md-dialog{
  min-width: 300px;
  flex-direction: row;
  flex-wrap: wrap;
}

//List
md-list{
  padding:0;
}

//Subheader
.md-subheader{
  padding:@gs*2 @gs @gs/2 @gs;
  .col(@b);
  margin:0;

  .md-subheader-inner{
    padding: @gs/2 0;
  }
}

//Toast
md-toast{
  &._md-custom {
    @media only screen and (min-width:960px){
      margin:@gs;
      width: 400px;
      min-width: 400px; // overwrite material default
    }

    .md-toast-content{
      max-height: none;
      padding: @gs/2 @gs;
      height: auto;

      .md-button.md-highlight{
        color:@w;
      }
    }
  }

  &._md-error{
    .md-toast-content{
      background-color: darken(@red, 20%);
    }
  }

  &._md-success{
    .md-toast-content{
      background-color: darken(@col_base_4, 20%);
    }
  }

  &._md-warning{
    .md-toast-content{
      background-color: darken(@col_yellow, 20%);
    }
  }
}

//Datepicker
md-datepicker{
  width: 100%;
  display: flex;
  align-items: center;
  margin-left: -11px; //cancels out icon margin
  margin-bottom: @gs;

  .md-datepicker-button.md-icon-button.md-button{
    margin-left:0; //doesn't push content to the right
    margin-right: 3px;
  }

  .md-datepicker-input-container{
    min-width: 180px;
    margin-left:0;
    padding-bottom:0;

    &.md-datepicker-focused{
      border:0;
    }
  }

  .md-datepicker-triangle-button{
    top: 3px; //visually align
  }

  input{
    width: 100%;
    margin-bottom:0;
  }
}

/*
 * Forms and inputs (also includes some link styles [outlines/focus])
 *
 */
label{
  font-weight: normal;
}

a,
textarea,
input {
  outline-color: @col_base_2;

  &:focus{
    outline-style: thin solid;
    outline-color: @col_base_2;
  }
}

textarea,
input {
  outline: 0;
  border: 0;
  border-bottom:@bstm @col_gray_6;
  border-radius:0;
  margin-bottom: 10px;
  padding-left:0;

  &:focus{
    border-bottom:@bstm @col_base_4;
  }
}

textarea{
  max-width:100%;
}

//dropdown menu box shadow + z-index for the button
.dropdown-menu{
  border:0;
  box-shadow: 0 1px 5px 1px rgba(0,0,0,0.2);

  .glyphicon{
    .rel();
    top:2px;
  }
}

.btn-group{
  .dropdown-toggle, .dropdown-toggle.active{
    z-index: 1001;

    &:hover, &:focus{
      z-index:1001;
    }
  }
}

/* Maybe add something like this to text areas
 *

textarea{
  &:before{
    content:"";
    .abs();
    left:-3px;
    height:80%;
    .col(@col_gray_3, b);
  }
}

 *
 */

.input-row{
  margin-bottom:15px;
  padding-top:15px;
  padding-bottom: 18px;
  .rel();

  label{
    .animate(@animation_time_s_short, @transition_default);
    .stretch();
    .inline-block();
    .abs();
    cursor:text;
  }

  label.required{
    &:after{
      content:"*";
      .inline-block();
      margin-left:2px;
      .rel();
      top: 3px;
      font-weight: 300;
      font-size: 18px;
    }
  }

  input, textarea{
    .stretch();
  }

  textarea{
    padding-top:0;
  }

  .help-block{
    .abs();
    top: 43px;
    left:0;
    //margin-top: 0;
    font-size: 13px;
    .col(@w, b);
    .inline-block();
    .stretch();
  }

  .placeholder-color(@w);
  .placeholder-hide();
  //animate placeholder transitions
  .placeholder-animate();
}

.input-row.input-focused{
  label:not(.btn){
    margin-top:-20px;
    font-size:@fs_small - 1;
    .col(@col_base_4);
  }

  label.required{
    &:after{
      top:2px;
      font-size: 14px;
    }
  }

  input, textarea {
    border-bottom:@bstm rgba(202, 202, 202, 0.6);

    &:focus{
      border-bottom:@bstm rgba(202, 202, 202, 0.6);
    }
  }

  .placeholder-show();
  .placeholder-color(@col_gray_6);
}

.input-row.input-focused.has-error{
  input, textarea{
    border-color:@red;
    .col(@red);

    &:focus{
      border-color:@red;
    }
  }
}

.input-row.has-error{
  label{
    .col(@red);
  }

  .placeholder-color(@red);
}

.is-bubble-input{
  .rel();
  .col(@ws, b);

  .bubble-input-img-container{
    .abs();
    left:-65px;
    padding:10px;
    .stretch(h);
    //top:~'calc(50% - 23px)';
    top:0;
    .col(@ws, b);

    img{
      height:45px;
      width:45px;
    }
  }

  .input-row.input-focused{
    label:not(.btn){
      opacity: 0;
      margin-top:0;
    }
  }

  .input-row{
    padding-bottom:0;

    label{
      padding:10px 10px 0 10px;
    }

    label.btn{
      position:static;
      cursor:pointer;
    }
  }

  .textarea-row{
    margin-top:0px;
    padding-top:0px;

    .is-label-md{
      margin-bottom: 0;
    }

    textarea{
      border:@bstm @ws;
      padding:10px 10px 0 10px;
    }
  }

  .is-rating-container{
    .stretch();
    margin-bottom:10px;

    .is-rating-legend{
      margin-left:0;
    }

    .is-rating-group{
      margin-left: -5px;
    }
  }
}

/*
 * Buttons
 *
 */

.btn{
  font-family:@ff_light;
  font-size:@fs_body;

  .glyphicon{
    .rel();
    top:2px;
    margin-right:3px;
    margin-left:-2px;
  }
}

.btn{
  padding: 9px 16px 9px 16px;
  .dropshadow(0 0 7px -2px rgba(0, 0, 0, 0.2));

  .animate(@animation_time_s_short, @transition_default);

  .is-spinner{
    .rel();
    top: 3px;
    left: 2px;
  }
}

.btn-info{
  .col(@col_gray_7);
}

.btn.loading{
  .animate(@animation_time_s_short, @transition_default);
  padding-right: 40px;

  &:after{
    content: '';
    width: 18px;
    height: 18px;
    .abs();
    margin: 1px 5px 0 10px;
    .inline-block();
    border-top: @bstm @w;
    border-bottom: @bstm @w;
    border-right: @bstm transparent;
    border-left: @bstm transparent;
    .border-radius(50%);
    animation-name: spinnerAnimation;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    animation-duration: 0.75s;
  }
}

.btn-primary.dark{
  .col(@col_base_4, b);
  border: @bst darken(@col_base_4, 5%);

  &:hover, &:focus{
    .col(lighten(@col_base_4, 5%), b);
    border: @bst @col_base_4;
  }
}

//TODO:
//add to sg docs
.btn.stretch{
  width:100%;
  margin-bottom:10px;

  @media only screen and (min-width:@bp_xs){
    width:auto;
  }
}

//fav button
.btn-spe {
  .rel();
  overflow:hidden;
  margin:0;
  .border-radius(0);
  .col(@col_gray_5, b);

  &:after{
    left: -100%;
    .animate(@animation_time_short, @transition_default);
  }

  &:before{
    speak: none;
    .rel();
    -webkit-font-smoothing: antialiased;
    .animate(@animation_time_short, @transition_default);
  }

  &:before, &:after{
    .inline-block();
    .rel();
    .ta-c();
    .stretch();
  }
}

/* Pseudo elements for icons */
.btn-star{
  &:before {
    .col(@w);
    font-size: 26px;
    line-height: 54px;
    content: "\2606";
    backface-visibility: hidden;
  }

  &:after {
    .invis();
    animation-name: dropUp;
    animation-duration: 0.3s;
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
    content: "\2605";
    z-index: 1;
    font-size: 27px;
    line-height: 54px;
    .col(@col_yellow);
    transform: scale(2.5);
    opacity: 0;
    backface-visibility: hidden;
  }

  &:hover, &:focus{
    .col(@w);
    opacity:0.8;
    outline:0;

    &:after{
      .vis();
      animation-name: dropDown;
      animation-duration: 0.3s;
      animation-iteration-count: 1;
      animation-fill-mode: forwards;
      animation-timing-function: linear;
    }
  }

  span{
    .abs();
    left:0;
    top:-3px;
    .stretch();
  }
}

.btn-star.btn-activated {
  opacity:0.8;

  &:after{
    .vis();
    animation-name: dropDown;
    animation-duration: 0.3s;
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
  }
}

//Group of ratings
.is-rating-group{
  .inline-block();
  padding-top:10px;

  label.btn-star{
    padding: 0;
    .fr();
    .animate(@animation_time_short, @transition_default);
    border:none;
    .col(transparent, b);
    .dropshadow(none);

    &:after, &:before{
      .col(@col_gray_6);
    }

    &:hover, &:focus{
      &:after{
        .col(@col_yellow);
      }

      span{
        .animate(@animation_time_short, @transition_default);
        .col(@col_gray_6);
      }
    }

    span{
      .animate(@animation_time_short, @transition_default);
      .col(transparent);
    }
  }

  &:not(:checked){
    input{
      .h();
    }

    label.btn-star{
      &:hover, &:focus{
        ~label.btn-star{

          &:after{
            .col(@col_yellow);
            .vis();
            animation-name: dropDown;
            animation-duration: 0.3s;
            animation-iteration-count: 1;
            animation-fill-mode: forwards;
            animation-timing-function: linear;
          }
        }
      }
    }
  }

  input{
    &:checked ~ label.btn-star{
      &:after{
        .col(@col_yellow);
        .vis();
        animation-name: dropDown;
        animation-duration: 0.3s;
        animation-iteration-count: 1;
        animation-fill-mode: forwards;
        animation-timing-function: linear;
      }

      span{
        opacity:1;
      }
    }

    &:checked + label.btn-star:hover,
    &:checked + label.btn-star:hover ~ label.btn-star,
    &:checked ~ label.btn-star:hover,
    &:checked ~ label.btn-star:hover ~ label.btn-star,
    &:checked + label.btn-star:focus,
    &:checked + label.btn-star:focus ~ label.btn-star,
    &:checked ~ label.btn-star:focus,
    &:checked ~ label.btn-star:focus ~ label.btn-star{
      &:after{
        .col(darken(@col_yellow, 20%));
      }

      label.btn-star:hover ~ input:checked ~ label.btn-star,
      label.btn-star:focus ~ input:checked ~ label.btn-star{
        &:after{
          .col(darken(@col_yellow, 20%));
        }
      }
    }
  }//input
}

.is-rating-legend{
  border:0;
  margin-bottom:-10px;
  margin-left:10px;
  font-size:@fs_small;
}

.btn-spe-sm{
  .btn-spe{
    padding: 0;
    border: 0;
    width: 35px;
    line-height: 35px;
    height: 35px;

    &:before{
      font-size: 21px;
      width: 35px;
      line-height: 35px;
      height: 35px;
    }

    &:after{
      font-size: 21px;
      width: 35px;
      line-height: 35px;
      height: 35px;
    }
  }

  label.btn-partial, .btn-partial.btn-activated{
    cursor:default;
    width: 25px;
    line-height: 25px;
    height: 25px;
    .fl();

    &:before{
      width: 25px;
      line-height: 25px;
      height: 25px;
      .col(@col_gray_5);
    }

    &:after{
      width: 25px;
      line-height: 25px;
      height: 25px;
      .col(@col_yellow);
      top: 0px;
    }
  }

  .quarter-partial, .half-partial, .thirds-partial{
     &:after{
        .abs();
        left: 2px;
        overflow:hidden;
     }
  }

  .btn-partial.quarter-partial{
    &:after{
      width:8px;
    }
  }

  .btn-partial.half-partial{
    &:after{
      width:10px;
    }
  }

  .btn-partial.thirds-partial{
    &:after{
      width:12px;
    }
  }

  .empty-partial{
    &:after{
      .h();
    }
  }
}

.btn-sm{
  padding: 4px 10px 4px 10px;
  font-size: @fs_small;

  .glyphicon{
    .rel();
    top:2px;
    margin-right:3px;
  }
}

.rounded-button-group{
  .ta-c();
}

.btn-round, .btn-round[disabled], .btn-round.active, .btn-round[disabled].active{
  .col(transparent, b);

  &:active, &:focus, &:hover, &:visited{
    .col(transparent, b);
  }
}

.btn-round{
  font-size:@m_fs_small;
  font-weight: bold;
  .ta-c();
  .inline-block();
  .clearfix();
  padding:5px;
  border: 0;

  @media only screen and (min-width:@bp_sm){
    padding:10px;
    font-size:@fs_body;
  }

  &:hover, &:focus{
    .col(transparent, b);
    outline:0;

    .btn-round-inner{
      .col(@col_base_4, b);
      .animate(@animation_time_short, @transition_default);
    }

    .btn-round-text{
      .col(@col_base_4);
      .animate(@animation_time_short, @transition_default);
    }
  }

  .btn-round-inner{
    width:35px;
    height:35px;
    line-height:35px;
    margin:0 auto 5px auto;
    .rounded();
    .block();
    .col(@col_base_3, b);
    .animate(@animation_time_short, @transition_default);

    @media only screen and (min-width:@bp_sm){
      width:45px;
      height:45px;
      line-height:45px;
      margin:0 auto 10px auto;
    }
  }

  .btn-round-text{
    font-weight: 300;
    .inline-block();
    .col(@col_base_3);
    .animate(@animation_time_short, @transition_default);
  }
}

.btn-round.btn-disabled, .btn-round[disabled]{
  cursor:not-allowed;
  opacity:0.7;

   &:hover, &:focus{
    .btn-round-inner{
      .col(@col_gray_6, b);
    }

    .btn-round-text{
      .col(@col_gray_6);
    }
  }

  .btn-round-inner{
    .col(@col_gray_6, b);
  }

  .btn-round-text{
    .col(@col_gray_6);
  }
}

.btn-round.btn-active{
  cursor:default;

  &:hover, &:focus{
    .btn-round-inner{
      .col(@col_base_4, b);
    }

    .btn-round-text{
      .col(@col_base_4);
    }
  }

  .btn-round-inner{
    .col(@col_base_4, b);
  }

  .btn-round-text{
    .col(@col_base_4);
  }
}

.btn-inline{
  padding:0;
  margin:3px 3px 2px 0px;

  .btn-round-inner{
    width:40px;
    height:40px;
    line-height:40px;
    margin:0;
    font-weight: normal;
  }

  &:last-child{
    margin-right:0;
  }
}

/*
 * Core browser display
 *
 */
::selection{
  .col(@col_base_2, b);
  .col(@w);
}
::-moz-selection{
  .col(@col_base_2, b);
  .col(@w);
}


/*
 * Headings: Generating all styles
 *
 */
 @font_size_selector:    "fs_h";
 @line_height_selector:  "lh_h";
 @mobile_font_size_selector:    "m_fs_h";
 @mobile_line_height_selector:  "m_lh_h";

 .generate_headings(@i) when (@i > 0) {
  .generate_headings((@i - 1));

  @font-size: ~"@{font_size_selector}@{i}";
  @line-height: ~"@{line_height_selector}@{i}";
  @mobile-font-size: ~"@{mobile_font_size_selector}@{i}";
  @mobile-line-height: ~"@{mobile_line_height_selector}@{i}";

  h@{i}{
    font-size: @@mobile-font-size;
    line-height: @@mobile-line-height;

    @media only screen and (min-width:@bp_md){
      font-size: @@font-size;
      line-height: @@line-height;
    }
  }
}

  //Generate headings
  .generate_headings(5);

/*
 * Headings: Global properties
 *
 */
  h1, h2, h3, h4, h5{
    font-family: @ff_light;
  }

  //fixes h1 h2 first letter kerning
  h1 {
    margin-left: -2px;
  }

  h2 {
    margin-left: -1px;
  }

  h4{
    .b();
  }

  h5{
    .b();
  }

/*
 * Paragraphs & other typographical elements
 *
 */
body {
  .light();
  font-size: @fs_h5; //bigger on mobile
  line-height: @lh_h5;
  letter-spacing: 0.5px;

  @media only screen and (min-width:@bp_sm){
    font-size: @fs_body;
    line-height: 22px;
  }
}

p{
  margin-bottom:20px;
  font-size: @m_fs_body;
  line-height: @m_lh_body;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_body;
    line-height: @lh_body;
  }
}

.is-label-lg{
  font-size: @m_fs_h2;
  line-height: @m_lh_h2;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_h2;
    line-height: @lh_h2;
  }
}

.is-label-md{
  font-size: @m_fs_h4;
  line-height: @m_lh_h4;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_h4;
    line-height: @lh_h4;
  }
}

.is-label-sm{
  font-size: @m_fs_body + 1;
  line-height: @m_lh_body + 2;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_body + 1;
    line-height: @lh_body + 2;
  }
}

.is-label-xs{
  font-size: @m_fs_small;
  line-height: @m_lh_small;
  letter-spacing: 0;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_small;
  }
}

[class*='is-label-']{
  .col(@col_text);
  font-family:@ff_light;
}

/*
 * Layout and scaffolding
 *
 */
.container-fluid, .row-fluid{
  .clearfix();
}

.container-height-xs {
  display:table;
  padding-left:0px;
  padding-right:0px;
}

.row-height-xs{
  display:table-row;
}

.col-height-xs{
  display:table-cell;
  float:none;
}

@media only screen and (min-width: @bp_sm) {
  .container-height-sm {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-sm {
    display:table-row;
  }

  .col-height-sm {
    display:table-cell;
    float:none;
  }
}

@media only screen and (min-width: @bp_md) {
  .container-height-md {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-md {
    display:table-row;
  }

  .col-height-md {
    display:table-cell;
    float:none;
  }
}

@media only screen and (min-width: @bp_lg) {
  .container-height-lg {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-lg {
    display:table-row;
  }

  .col-height-lg {
    display:table-cell;
    float:none;
  }
}

.height-top{
  [class*='col-height-']{
    vertical-align: top;
  }
}

.height-bottom{
    [class*='col-height-']{
    vertical-align: bottom;
  }
}

.height-center{
  [class*='col-height-']{
    vertical-align: center;
  }
}


@header_offset: 10px;

.is-header{
  background-color: @col_base_4;
  color: @w;
  padding: @gs*2 @gs*2 @gs @gs*2 + @header_offset;
  display: flex;
  align-items: center;

  .fa{
    flex-shrink: 0;
    margin-top: -16px;
    color: white;
    font-size: 25px;
    min-width: 40px;
    margin-right: @gs/2;
  }

  .fa-input{
    min-width: 30px;
    margin-top: 0;
    position:relative;
    top:2px;
    margin-right: 5px;
  }

  input{
    width: 100%;
    margin-left:0;
  }

  h2{
    margin-top:0;
    color:@w;
  }

  p{
    color:@col_gray_5;
    margin-bottom:0;
  }

  .is-label-lg{
    margin-bottom: 0;
  }

  &__inner{
    margin: 0 0 @gs -@header_offset;
    border-left:@bst;
    padding: @gs @gs @gs @gs*2;
    width: 100%;
    border-color: fade(@w, 10%);

    &__input{
      padding:@gs*2 0;
    }

    md-input-container{
      input{
        flex-grow:1;
      }
    }
  }
}

.is-header.image-header{
  .rel();
  padding-left: 75px;
  border-left:0;
  margin-left: -75px;

  &:before{
    content: '';
    .inline-block();
    .abs();
    border-right: @bstm @col_base_3;
    .stretch(h);
    margin-left: -12px;
  }

  img{
    .abs();
    padding-top:4px;
    left:0;
    width:45px;
  }
}

.is-main{
  background-color:@w;
  padding:@gs*2;
}

.is-footer{
  margin-top: @gs*2;
  padding:0 @gs*2;
}

.is-aside-right, .is-aside-left{
  top:0; //fixes a FF bug while dragging a screen to another group
  z-index: 2;

  @media only screen and (min-width:@bp_sm){
    .rel();
  }

  @media only screen and (min-width:@bp_lg){
    .stretch(h);
    .abs();
  }
}

.is-aside-right{
  right: 0;
}

.is-aside-left{
  left:0;
}

.sidebar-fixed{
  top: 0;
  overflow: auto;

  @media only screen and (min-width:@bp_lg){
    .fix();
  }
}
/*
 * Lists
 *
 */
.is-company-result-list{
  padding:0;
  list-style-type: none;
  .clearfix();

  a{
    .clearfix(); //<a> is a parent, but it's not mandatory to nest the li as a child (much more flexible this way)
    .inline-block();
    outline:0;
    width:100%;

    &:focus{
      opacity:0.8;
    }
  }

  li{
    .clearfix();
    padding: 15px;
    .col(@col_gray_3, b);
    .animate(@animation_time_short, @transition_default);

    @media only screen and (min-width:@bp_md){
      padding: 30px;
    }

    &:nth-child(even){
      .col(@w, b);
    }


    &:hover, &:focus{
      .col(@col_gray_4, b);
      .animate(@animation_time_short, @transition_default);
    }

    [class*='is-label']{
      margin:0;
      .light();

      &:nth-child(1){
        .b();
      }

      &:nth-last-child(2){
        margin-bottom: 20px;
      }
    }

    .is-label-md{
      line-height: 16px;

      @media only screen and (min-width:@bp_md){
        line-height: 22px;
      }
    }

    figure.round-image{
      figcaption{
        .inline-block();
        width: ~'calc(100% - 115px)';
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;

        .is-label-md{
          .inline();
          width: 100%;

          &:first-child{
            &:after{
              content:'\A';
              white-space: pre;
            }
          }
        }

        p.is-label-sm{
          margin-top: 0px;
        }
      }
    }
  }
}

.is-grid-result-list{
  .is-result-list-row{
    @media only screen and (min-width:@bp_sm){
      .col(@w, b);
      border:@bst @col_gray_4;
    }
  }
}

//project list: rectangular images on the right
.is-company-project-list{
  li{
    padding:0;

    figcaption{
      padding:30px;
    }
  }
}

//uniform list (no alt. colors)
.is-uniform-list{
  li{
    .col(@ws, b);
    border-top:@bst @col_gray_4;

    &:nth-child(even){
      .col(@ws, b);
    }

    &:hover{
      .col(@col_gray_4, b);
    }
  }
}

//service list
.is-service-list{
  margin:0 0 20px 0;

  .is-label-md{
    margin-top: 0;
    margin-bottom: 0;
  }

  ul{
    list-style-type: none;
    padding: 0 10px 0 10px;
    margin-bottom:40px;
    .clearfix();

    li{
      line-height: 38px;
    }

    @media only screen and (min-width:@bp_md){
      padding:0;
    }
  }

  ul.presentation{
    li{
      &:before{
        content:'';
        .inline-block();
        background-repeat: no-repeat;
        background-image: url(../images/svg-sprite.svg);
        background-position: -42% 17.3%;
        width: 36.26px;
        height: 23.26px;
        margin-right: 8px;
        margin-left: -20px;
        .rel();
        top: 1px;
        .col(@col_gray_6);
      }
    }
  }
}

.is-inline-remove{
  .animate(@animation_time_v_short, @transition_default);
  .col(@col_gray_7);
  .ta-c();
  .inline-block();
  .pointer();
  .fl();
  margin-right: 10px;
  margin-bottom:5px;

  &:hover{
    .animate(@animation_time_v_short, @transition_default);
    opacity:0.8;
  }

  &:focus, &:active{
    opacity:0.8;
  }

  span{
    .b();
    font-size: 22px;
    .rel();
    top:-1px;
  }
}

/*
 * Navigation
 *
 */
//vertical menu
@menu_image_height: 50px;
@submenu_image_height: 35px;

.is-menu-container{
  .col(@ws, b);
  border-right:@bst @col_gray_4;

  .is-menu{
    .clearfix();
    overflow: auto;

    @media only screen and (min-width:@bp_lg){
      height: 100vh;
    }

    ul{
      padding-left: 0;
      display: flex;
      flex-direction:row;
      flex-wrap:nowrap;
      margin-bottom:0;
      max-width: 100%;
      width: 100%;

      @media only screen and (min-width:@bp_lg){
        min-height:100vh;
        flex-direction:column;
      }

      li{
        width:100%;
        display:flex;
        border-bottom:@bst @col_gray_4;
        flex-grow:0;

        a{
          width:100%;
          margin:0;
          padding:0;
          display:flex;
          padding:@gs/2 @gs;
          font-weight: 300;
          letter-spacing: 0.3px;
          border-radius:0;

          span{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
          }

          .menu-icon{
            flex-shrink:0;
            .inline-block();
            border:@bstm;
            height:@menu_image_height;
            width:@menu_image_height;
            background-repeat:no-repeat;
            background-position: center;
            overflow: hidden;
            .rel();
            display:flex;
            align-items:center;
            justify-content:center;
            margin-right:@gs;

            .fa{
              margin-right:0;
            }
          }
        }
      }

      li.active{
        a{
          background-color:@w;
          color:@col_base_4;
        }
      }

      .submenu{
        ul{
          @media only screen and (min-width:@bp_lg){
            min-height:0;
          }
        }

        a{
          width:100%;
          margin:0;
          padding:0;
          display:flex;
          padding:@gs/4 @gs + @gs/2; //visually align
          color: @col_gray_7;
          border-radius:0;

          .menu-icon{
            margin-right: @gs + @gs/2; //visually align
            height:@submenu_image_height;
            width:@submenu_image_height;
          }
        }
      }
    } //ul


    &__li{
      &--controls{
        display:flex;
        align-items:center;
        justify-content: center;

        @media only screen and (min-width:@bp_lg){
          margin-top:auto;
        }
      }

      &--logo{
        padding:@gs 22px;
        outline:0;

        figure{
          outline:0;
        }
      }
    }

    @media only screen and (min-width:@bp_lg){
      ul{
        flex-wrap:wrap;
      }
    }
  } //is-menu
} //is-menu-container

// Aside details
.is-details{
  padding:@gs;
}

// toolbar
// Controls placed before md-content, like sorting.
.is-toolbar{
  padding: 0;
  display: flex;

  .md-icon-button{
    &.active{
      md-icon{
        color:@b;
      }
    }
  }

  &--right{
    text-align:right;
  }

  &--padded{
    padding: 0 @gs;
  }
}

//top bar menu
.is-tool-menu{
  padding:0;

  md-icon{
    font-size: 18px;
  }

  .mixed-button{
    .fa{
      margin-right:@gs/4;
    }
  }

  &.right{
    .fr();
  }
}

// appended menu (for is-tool-menu)
.md-open-menu-container{
  md-menu-content{
    padding:0;
  }

  button.md-button{
    border-radius:0;

    &.md-grey-dark-theme{
      color:@ws;
    }
  }
}

//related to top bar (appended via js)
md-menu-item{
  md-icon{
    &.fa{
      position:relative;
      font-size: 18px;
      min-width: @gs*2;
      .ta-c();
    }

    &.fa-sign-out{
      top:1px;
    }
  }
}

.navigation-anchor{
  line-height:40px;
  .inline-block();
  font-size:@fs_small;
  width:100%;
  border-bottom:@bst @col_gray_4;
  .animate(@animation_time_v_short, @transition_default);

  a{
    .col(@col_base_4);
    line-height:@lh_small;
    outline:0;

    &:hover, &:focus{
      .animate(@animation_time_v_short, @transition_default);

      .is-icon-reveal{
        .rel();
        .animate(@animation_time_v_short, @transition_default);
        transform:rotate(90deg) translateY(5px);
      }
    }
  }

  .is-icon-reveal{
    height:10px;
    transform:rotate(90deg);
    .animate(@animation_time_v_short, @transition_default);
  }
}

/*
 * Communication: reviews, messages, comments, etc
 *
 */
.is-bubbles{
  padding:15px;

  .bubble-row{
    margin-bottom:30px;
    .rel();

    &:nth-child(even){
      figure{
        .fr();
        right:0;
      }

      .bubble-message-container{
        .fl();
      }
    }

    &:nth-child(odd){
      figure{
        .fl();
        left:0;
      }

      .bubble-message-container{
        .fr();
      }
    }

    figure{
      margin-bottom:10px;

      @media only screen and (min-width:@bp_md){
        margin-bottom:0;
        .ta-c();
        vertical-align: middle;
        .abs();
        top: ~'calc(50% - 120px/2)';
      }

      img{
        .fl();
        .inline-block();

        @media only screen and (min-width:@bp_md){
          float:none;
        }
      }

      figcaption{
        .inline();
        width: auto;
        margin-left: 10px;
        padding-top:10px;

        @media only screen and (min-width:@bp_md){
          margin-top:10px;
          .stretch();
          .ta-c();
          margin-left: 0;
          padding-top:0;
        }
      }
    }

    .bubble-message-container{
      vertical-align: middle;
      padding:20px;
      .col(@col_gray_4, b);
      .border-radius(6px);

      .bubble-message{
        white-space: pre-line;
      }

      .bubble-time{
        .inline-block();
        margin-top:10px;
        font-size:@fs_small;
      }

      .is-rating-group{
        padding-top:0px;
        margin-left:-2px; //for 'visual' alignment
        .stretch();
      }
    }
  }
}

.bubble-row.force-message-left{
  &:nth-child(even){
    figure{
      .fr();
      right:0;
    }

    .bubble-message-container{
      .fl();
    }
  }

  &:nth-child(odd){
    figure{
      .fr();
      right:0;
      left: inherit;
    }

    .bubble-message-container{
      .fl();
    }
  }
}

.bubble-row.force-message-right{
  &:nth-child(even){
    figure{
      .fl();
      left:0;
    }

    .bubble-message-container{
      .fr();
    }
  }

  &:nth-child(odd){
    figure{
      .fl();
      left:0;
      right:inherit;
    }

    .bubble-message-container{
      .fr();
    }
  }
}

.is-bubbles.small-bubbles{
  figure{
    top: ~'calc(50% - 78px/2)';

    img{
      max-width:45px;
    }

    figcaption{
      font-size:@fs_small;
    }
  }
}

//modals
.modal-backdrop{
  .col(#10321D, b);
}

.modal-content{
  padding: 10px;
  border: @bst @ws;

  @media only screen and (min-width:@bp_sm){
    padding:20px;
  }
}

/*
 * Spinners and loaders
 *
 */
.is-loader-container{
  width:200px;
  height:200px;
  margin:30px auto;
  .border-radius(5px);
  .col(@w, b);
  .ta-c();
  padding-top:20px;
  border:@bst @col_gray_4;

  .is-loader{
    width:90px;
    height:90px;
    .col(@w, b);
    overflow:hidden;
    .border-radius(50%);
    border:@bstm @col_base_3;
    .rel();
    margin:15px auto;
    z-index:1;
    -webkit-mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC); //fixes webkit bug

    .element-animation{
      .abs();
      .stretch();
      .stretch(h);
      animation-name:loaderAnimation;
      animation-iteration-count: infinite;
      animation-fill-mode: forwards;
      animation-timing-function: linear;
      animation-duration: 5s;

      img{
        max-width:none;
      }
    }//element-animation
  }//is-loader
}//loader container

.is-story-container{
  .is-loader-container{
    height: 160px;
  }


  .is-loader-story{
    .stretch();
    margin-top:20px;
    margin-bottom:20px;
    .ta-c();
  }//is-loader-story
}

//spinner
.is-spinner{
  width: 18px;
  height: 18px;
  margin: 0 5px 0 5px;
  .inline-block();
  border-top: @bstm @col_base_3;
  border-bottom: @bstm @col_base_3;
  border-right: @bstm transparent;
  border-left: @bstm transparent;
  .border-radius(50%);

  animation-name: spinnerAnimation;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-duration: 0.75s;
}

.light-green-spinner{
  border-top: @bstm @col_base_2;
  border-bottom: @bstm @col_base_2;
}

.gray-spinner{
  border-top: @bstm @col_gray_5;
  border-bottom: @bstm @col_gray_5;
}

.black-spinner{
  border-top: @bstm @b;
  border-bottom: @bstm @b;
}

.white-spinner{
  border-top: @bstm @w;
  border-bottom: @bstm @w;
}

/*
 * NEW! IS-specific el
 */

@thumbnail_width: 240px;
@thumbnail_height: @thumbnail_width/16 * 9;

.is-list{
  list-style-type: none;
  padding-left:0;
  margin-bottom:@gs*3;

  md-list-item{
    md-select{
      padding:0;
    }
  }

  .md-button{
    flex-shrink: 0;
  }

  .is-list-item{
    .rel();
    padding:@gs @gs*2;
    .col(@ws, b);
    display: flex;
    justify-content: center;
    align-items: center;

    &:nth-child(even){
      .col(@w, b);
    }

    &__avatar.md-avatar{
      font-size: 30px;
      width: auto;
      height: auto;
    }

    &__btn.md-fab{
      transform:none;

      .fa{
        margin-right:0;
        line-height: 1.6;
      }
    }

    h2{
      margin-top:0;
    }

    .md-list-item-text{
      flex-grow:1;
      flex-basis:100%;
    }

    &.is-playlist-rows{
      padding:0;
      align-items:center;

      .is-playlist-rows__inner{
        width:100%;
        display:flex;
        padding:@gs @gs*2;
        transition: background @animation_time_short @transition_default;

        h3, h2{
          margin-top:0;
        }

        &__image{
          overflow: hidden;
          background-color: @col_gray_8;
          display:flex;
          flex-shrink:0;
          justify-content:center;
          align-items:center;
          transition: opacity @animation_time_short @transition_default;
          width: @thumbnail_width;
          height: @thumbnail_height;

          &:hover, &:focus{
            opacity:0.7;
            transition: opacity @animation_time_short @transition_default;
          }

          a{
            background-repeat: no-repeat;
            background-position: center center;
            background-size: contain;
            margin: -5px; //needed to cover eventual rounding errors
            display: block;
            flex-grow: 1;
            flex-basis: 100%;
            height: 100%;
          }
        }

        &__details{
          display: flex;
          flex-direction: column;
          justify-content: center;
          padding: @gs @gs*2 @gs/2 @gs*2;

          a:not(.md-button){
            color: @col_gray_7;

            &:hover, &:focus{
              color: @col_gray_8;
            }
          }

          &__item{
            font-family:@ff_default;
            font-size:@fs_small;
            margin-right: @gs/2;
            position: relative;
            top: -10px;
          }

          &__slides{
            margin-bottom:0;
          }

          &--top{
            margin-bottom: 0;
            display: flex;
          }

          &--bottom{
            margin-top:auto;
            display:flex;
            align-items:center;
          }
        }
      }

      .is-playlist-rows__controls{
        padding:@gs @gs*2 @gs 0;

        .md-button{
          top: 0;
        }
      }
    }//is-playlist-rows

    &--title{
      [class*='is-label-']{
        margin: 0;
      }
    }
  }

  &--tight{
    margin-bottom:0;

    .md-subheader{
      padding:0;
    }

    h3{
      display: flex;
      align-items: center;
    }

    md-select{
      .rel();
      top:-1px;
      margin-left:5px;
    }
  }

  &--wide{
    padding: @gs*2;

    md-list-item{
      padding:0;
    }
  }

  &--bg{ //List with a gray background, like the one in schedule management
    background-color:@col_gray_3;
    border-bottom: @bst @col_gray_5;
  }

  &--reverse-col{
    .is-list-item{
      background-color:@w;

      &:nth-child(even){
        background-color:@ws;
      }
    }
  }
}

.is-group-list{
  .screen-title{
    padding-left: 2px; // fixes a bug where the status icon is cropped

    .fa{
      margin-right:@gs/4;
    }
  }

  .screen-group{
    font-size:@fs_small;
    line-height:@lh_small;
    font-family:@ff_light;
  }

  .screen-notes{
    small{
      white-space: pre-line;
      display: inline-block;
      width: 100%;
    }
  }
}

.is-schedule-list{
  margin-bottom:0;
  margin-top:-@gs*2;//reduce negative space

  md-list-item{
    .rel();
    margin:0 -@gs*2;

    &:not(.is-list-item){
      margin:0;
    }

    & h3.is-schedule-list__plays{
      white-space: initial; // prevent breaking layout for long texts
    }
  }

  md-input-container{
    padding-bottom:0;
  }

  .is-label-md{
    margin-bottom:@gs;
  }

  .md-list-item-text{
    i{
      min-width:20px;
    }

    p{
      span{
        font-weight:300;
      }

      b{
        font-weight:400;
        color:@b;
      }
    }
  }

  &__plays{
    padding-bottom:@gs/2;
  }

  &__playlist-ol{
    border-bottom:@bst @ws;
    padding-bottom: @gs;
    margin: @gs 0;
    font-family: @ff_default;
    color:@col_gray_7;
    font-weight:300;
  }
}

.is-subheader{
  ._md-subheader-inner{
    padding: @gs 0 @gs/2 0;

    ._md-subheader-content{
      display:flex;

      .no-shrink{
        display:flex;
        flex-shrink:0;
        justify-content: center;
        align-items: center;
      }
    }
  }
}

.is-plus{
  .fix();
  bottom:@gs;
  right:@gs;
  z-index: 20;

  &__trigger{
    .md-fab{
      font-size:20px;

      md-icon{
        display: flex;
        width: 100%;
        height: 100%;
        align-items: center;
        justify-content: center;
      }
    }
  }

  &__actions{
    .md-fab{
      display:flex;
      justify-content:center;

      &.md-raised{
        padding:0; // fixes a FF problem that centered the action button items incorrectly
      }

      .fa{
        margin-right:-2px;
      }
    }
  }
}

.is-status{
  @status_size: 10px;

  width:@status_size;
  height:@status_size;
  border-radius:50%;
  .inline-block();
  .rel();
  background-color:@col_gray_5;

  &--off{
    .col(@red, b);
  }

  &--on{
    .col(@col_green, b);
  }
}

.is-msg{
  margin-top:@gs*2;
  margin-bottom:@gs;
  padding:@gs/2 @gs;
  .col(@w);
  border-radius:@br;
  display:flex;
  align-items:center;

  &:before{
    content:"";
    .font-awesome();
    margin-right:@gs/2;
    font-size:20px;
  }
}

.is-error{
  .col(@red, b);

  &:before {
    content:"\f06a";
  }
}

.is-grid{
  padding:0 0 @gs 0;

  md-grid-tile-footer{
    .col(rgba(0, 0, 0, 0.5), b);
  }

  &--with-footer{
    margin-bottom:@gs*2;
  }
}

.is-grid-tile{
  .col(@ws, b);
  background-repeat: no-repeat;
  background-position: center center;
  background-size: contain;
  overflow:hidden;
  cursor:pointer;
  transition: opacity @animation_time_short @transition_default;
  outline: 0;

  &:hover, &:focus{
    transition: opacity @animation_time_short @transition_default;
    opacity:0.8;
    outline:0;

    .is-grid-tile__meta{
      transform:translateY(0px);
      transition:transform @animation_time_short @transition_default;
    }
  }

  &.active{
    opacity:0.8;
  }

  p{
    .inline-block();
    width:100%;
    .ta-c();
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  &__details{
    padding:@gs/2;

    figcaption{
      width:100%;
    }

    &__name{
      margin-top:@gs;
      margin-bottom:-3px;
    }

    &__date{
      margin-top:-5px;
      margin-bottom:10px;
      .col(@col_gray_5);
    }
  }

  &__meta{
    width:100%;
    .abs();
    top:0;
    left:0;
    padding:@gs/2;
    .col(rgba(0, 0, 0, 0.5), b);
    transform:translateY(-50px);
    transition:transform @animation_time_short @transition_default;

    p{
      margin-bottom:0;
      .col(@w);
    }

    .fa{
      font-size:12px;
      margin-left:5px;
      margin-right:3px;
    }
  }

  &--no-bg{
    background-color:@w;

    .is-grid-tile__details{
      background-color:@w;
      color:@b;

      &__date{
        color:@col_gray_8;
      }
    }
  }

  &--folder{
    background-position: center 22px; // visually align with footer; otherwise center center
    background-size:80%;

    .is-grid-tile__details{
      border-top: @bst @ws;
    }
  }

  &--cover{
    background-size: cover;
  }

  &--add{
    cursor:pointer;

    &:after{
      .font-awesome();
      content: "\f00c";
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:40px;
      .abs();
      width:100%;
      height:100%;
      top:0;
      left:0;
      .col(transparent);
      .col(rgba(255,255,255,0), b);
      z-index:10;
      transform: scale(1);
    }

    &:hover, &:focus{
      &:after{
        .col(rgba(255,255,255,0.2), b);
        .col(saturate(@col_green, 10%));
        text-shadow: 2px 3px 2px rgba(0, 0, 0, 0.2);
        transform: scale(1.6);
      }
    }
  }
}

.is-groups{
  padding:0 @gs*2 @gs @gs*2;
  margin: 0;

  &:hover{
    .is-screens__tip--minimal{
      opacity: 1;
      transition: opacity @duration @ease;
    }
  }

  &:last-child{
    margin-bottom:@gs*2;
  }

  md-list-item{
    border: 1px dashed @col_gray_5;
    .inline-block();
    min-height: 116px;
    min-width: 100px;
    width:100%;

    &.is-list-item{
      background-color:@ws;

      &:nth-child(even){
        background-color:@ws;
      }
    }
  }

  .md-subheader{
    padding-top: 0;
    padding-bottom: 0;
    .col(transparent, b);

    h3{
      margin-bottom:0;
      margin-top:6px;
      width: 100%;

      small{
        font-family:@ff_default;
        font-weight: 300;
      }
    }

    .md-button{
      margin:0 0 0 @gs/4;
      padding:0 @gs;
    }
  }

  &--standby{
    margin-top:@gs;
  }
}

.is-screens{
  min-height:65px;
  margin-bottom:0;
  width:100%;
  position:relative;

  li{
    .rel();
    min-height:0;
    padding-right:10px;
    max-width: 110px;
    .inline-block();
    cursor: move;
    float:left;

    &:first-child{
      margin-left:0;
    }
  }

  &__label{
    .col(@col_gray_7);
    width: 100%;
    height: 100%;
    position:absolute;
    top: -2px;
    left: 0;
    display: flex;
    flex-direction:column;
    align-items: center;
    justify-content: center;
    padding: 0 20px 15px 10px;
    line-height: 16px;
    font-size: 13px;
    text-align: center;

    &__location{
      display:inline-block;
      width:100%;
      color:@b;
    }

    &__name{
      display:inline-block;
      width:100%;

      &--ellipsis{
        max-height: 32px;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
      }
    }
  }

  &__img{
    width:100px;
    height:77px;
    margin: @gs/4 0;
  }

  &__tip {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    max-width: none;
    position: absolute;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: opacity 500ms @ease;

    &.ng-enter {
      opacity:0;
    }

    &.ng-enter-active {
      opacity:1;
    }

    &.ng-enter-stagger {
      transition-delay: 1s;
      transition-duration: 0;
    }

    &.ng-leave {
      opacity:1;
    }

    &.ng-leave-active {
      opacity:0;
    }

    &__title{
      margin-bottom:0;
    }

    &.sortable-chosen{
      //ng-sortable special style (don't show label)
      display:none;
    }

    &--minimal{
      justify-content:flex-end;
      opacity:0;
      transition: opacity @duration @ease;

      .is-screens__tip__label{
        padding: 2px @gs;
        background-color:fade(@col_gray_7, 10%);
        position:relative;
        margin-bottom: 0;
      }
    }
  }
}

.is-hero{
  padding:@gs*2;
}

/*
 * Flex-row
 */
.flex-row{
  display:flex;
}

//Playlist vars
@ctrl_w: 70px;
@ctrl_h: 60px;
@sld_h: 150px;
@opts_w: 300px;

.is-playlist{
  display:flex;
  flex-direction:row;
  flex-wrap:wrap;
  width: 100%;
  height: 100%;
  background-color:@col_gray_5;

  &__content{
    width:100%;
    display:flex;
    flex-direction:column;
    width:100%;
    height: ~'calc(100% - @{sld_h})';

    &__controls{
      height:@ctrl_h;
      width:100%;
      .col(@col_gray_9, b);
      .boxshadow-bottom();
      .rel();
      z-index: 11;
      display:flex;
      flex-basis:@ctrl_h;
      flex-grow:0;
      flex-shrink: 0;
      flex-direction:row;
      justify-content:space-between;
      overflow: hidden; //Fixes FF problem where the container would actually grow larger then the provided height

      &__group{
        padding:0;
        padding-bottom:0;
        margin-bottom:0;
        display:flex;

        &._md-menu-bar-menu{
          min-width:0;
          background-color:@col_gray_9;

          &.md-dense{
            padding:0;

            .md-button{
              height:auto;
              align-items: center;
              padding:@gs/4 0;
            }
          }

          .is-playlist__content__controls__group__btn{
            height: auto;
          }
        }

        &__btn{
          display:inline-block;

          &:last-child{
            a{
              border:0;
            }
          }

          a{
            height:@ctrl_h;
            margin:0;
            border-radius:0;
          }
        }

        a{
          .col(@w);
          padding:0 @gs/2;
          min-width: @ctrl_w;
          min-height: @ctrl_h;
          display:flex;
          flex-direction:column;
          justify-content: space-around;
          outline:0;
          transition: background-color @animation_time_short @transition_default, color @animation_time_short @transition_default;

          &:hover{
            outline:0;
            .col(@col_gray_3);
            .col(@col_gray_7, b);
            transition: background-color @animation_time_short @transition_default, color @animation_time_short @transition_default;
          }

          span{
            padding:0;
            margin:0;
            text-align: center;
            font-size:@fs_small;
            line-height: @fs_small;
            margin-bottom: 5px;
            font-weight: 400;
          }

          .fa{
            font-size:24px;
            margin-top:5px;
            margin-right:0;
          }
        }

        &--preview{
          a{
            &:hover, &:focus{
              color:@col_gray_7;
            }
          }
        }

        &--exit{
          a{
            .col(@col_gray_6, b);
          }
        }
      }//end __controls__group
    }

    &__inner{
      display:flex;
      width:100%;
      height: ~'calc(100% - @{ctrl_h})';
      flex-direction:row;

      &__canvas{
        width:~'calc(100% - @{opts_w})';
        height:100%;
        position:relative;

        .canvas-container{
          display:flex;
          flex-direction:column;
          justify-content: center;
          align-items:center;
          flex-grow:1;
          height: 100%;
          .rel();
        }

        .icon-button{
          a.md-button{
            min-width:0;
            text-align:center;

            i{
              margin-right:0;
            }
          }

          &--active{

            a.md-button{
              background-color:@col_gray_6;
              color:@w;

              &:hover, &:focus{
                background-color:@col_gray_6;
                color:@w;
              }
            }
          }
        }

        &__submenu{
          @submenu_height: 64px - @gs; //64px corresponds to fabric.js canvas padding

          background-color:@col_gray_7;
          max-height:@submenu_height;
          width:100%;
          position:absolute;
          z-index:10;
          display:flex;
          .boxshadow-round-inset();

          ul{
            display:flex;
            flex-wrap:wrap;
            padding:0;
            margin:0;
            list-style-type: none;

            li{
              height:100%;
              display:flex;

              a{
                margin:0;
                padding:0 @gs;
                border-radius:0;
                height:0;
                .col(transparent, b);
                transition: background-color @animation_time_short @transition_default, color @animation_time_short @transition_default;
                .col(@col_gray_3);
                .col(transparent, b);

                &:focus{
                  .col(@col_gray_3);
                  .col(transparent, b);
                }

                &:hover{
                  outline:0;
                  .col(@col_gray_5);
                  .col(@col_gray_6, b);
                  transition: background-color @animation_time_short @transition_default, color @animation_time_short @transition_default;
                }

                .fa{
                  @media only screen and (max-width: @bp_lg_max){
                    margin-right:0;
                  }
                }

                &.md-button{
                  @media only screen and (max-width: @bp_lg_max){
                    min-width:0;
                    padding:0 @gs/1.5;
                  }
                }
              }

              span{
                display:none;

                @media only screen and (min-width: @bp_md){
                  display:inline;
                }
              }
            }
          }

          ul.slide-actions{
            margin-left:auto;
          }
        }
      }

      &__options{
        width:@opts_w;
        height:100%;
        background-color:@w;
        flex-shrink:0;
        .boxshadow-left();

        md-content, md-tabs{
          height:100%;
        }

        md-tab-data{
          .boxshadow-bottom();
        }
      } //__options
    }
  }

  &__slides{
    height:@sld_h;
    width:100%;
    flex-grow:0;
    flex-shrink: 0;
    display:flex;
    flex-direction:row;
    .col(@ws, b);
    .boxshadow-top();
    .rel();
    padding:0;

    ul{
      .fr();
      display:flex;
      flex-direction:row;
      width:100%;
      padding: @gs/2;
      list-style-type: none;
      padding-bottom:0;
      margin-bottom:0;
      flex-wrap: nowrap;
      overflow-y:hidden;
      overflow-x:visible;

      &:after{
        content: "";
        width: @gs/2;
        height: 50px; //arbitrary
        display: inline-block;
        flex-shrink:0;
      }

      li{
        padding:0;
        margin-right:@gs;
        .rel();
        display:flex;
        flex-direction:column;
        flex-wrap:wrap;
        width:167px;
        height: 132px;
        flex-shrink:0;
        background-color:@b;

        figure{
          outline:0;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        figcaption{
          width: 100%;
          padding: @gs/2;
          background-color: @col_gray_8;
          .col(@w);
          cursor:pointer;
          transition: background-color @animation_time_short @transition_default;
          .rel();
          z-index:2;

          &:focus{
            outline:0;
            background-color: @col_gray_8;
          }

          &:hover{
            outline:0;
            background-color:@col_gray_8;
            transition: background-color @animation_time_short @transition_default;
          }

          .duration{
            .fr();
            font-size:@fs_small;
          }
        }

        img{
          cursor:ew-resize;
          max-height: 94px;

          &:focus{
            outline:0;
          }
        }
      }

      li.active{
        opacity:0.6;
      }
    }

    &__remove{
      .abs();
      top:0;
      right:0;
      padding:0;
      border:0;
      z-index:2;
      color:@w;
      background-color:fade(@col_gray_6, 80%);
      height: 30px;
      width: 30px;
      line-height: 30px;
      text-align: center;

      &:hover, &:focus{
        outline:0;
        background-color:@col_gray_7;
      }

      .fa{
        .rel();
        top:-1px;
      }
    }

    &__add{
      display:flex;
      flex-shrink:0;
      flex-grow:0;
      margin: 0;
      color: @w;
      background-color:@col_text;
      border-left:@bst @col_gray_5;
      .boxshadow-left();

      .md-button{
        display:block;
        width:100%;
        text-align:center;
        border-radius:0;
        margin:0;
        min-width:170px;
        .col(@col_gray_9, b);
      }
    }

    &__fake-link{
      .abs();
      width:100%;
      height:100%;
      top:0;
      left:0;
      opacity:0;
      cursor:ew-resize;
    }

    &--locked{
      @spinner_size: 40px;

      &:before{
        content:attr(data-lock-text);
        position:absolute;
        height:100%;
        top:0;
        left:0;
        height:100%;
        width:100%;
        background-color:rgba(255, 255, 255, 0.85);
        z-index:9999;
        color:@col_gray_6;
        font-size: 1.5em;
        display:flex;
        justify-content:center;
        align-items:flex-start;
        padding-top:35px;
      }

      &:after{
        content: "";
        position:absolute;
        height: @spinner_size;
        width: @spinner_size;
        top:75px; //visually align
        left:~'calc((100% - @{spinner_size})/2)';
        animation: rotation .6s infinite linear;
        border: 6px solid rgba(200, 200, 200, 0.9);
        border-top: 6px solid @col_gray_7;
        border-radius: 100%;
        z-index:10000;
        flex-shrink:0;
      }
    }
  }
}

//Menu bar (sort of dropdown)
.is-menu-bar{
  padding:0;

  &._md-open{
    .is-playlist__content__controls__group__btn__toggle{
      opacity:0.6;
    }
  }
}

.adjustments{
  height:100%;
  overflow-y:auto;

  h3{
    text-transform: uppercase;
    font-size:@fs_small;
    line-height: @lh_small;
    color:@col_gray_7;
    width:100%;
    cursor:default;
    margin-top:@gs*2;
    margin-bottom: -@gs/4;

    & + .adjustments__controls{
      margin-top:@gs/2;
    }
  }

  input{
    width:100%;
  }

  md-switch{
    margin-top:@gs/2;
    margin-bottom:@gs/2;
  }

  md-content{
    margin-top: 0;
    padding:0 @gs @gs @gs;
  }

  md-tab-item{
    background-color:@ws;
  }

  md-checkbox{
    margin:@gs/2 0 0 0;
    width:100%;
  }

  md-input-container, .md-input-container{
    flex-direction:row;
    flex-wrap:wrap;
    //own flex props
    display:flex;
    padding-bottom:0;
    justify-content: center;
    align-items: center;
    margin:0;

    &:last-child{
      padding-right:0;
    }

    //fix slider + input alignment
    input[type="number"]{
      margin-bottom: 0px;
      margin-top: 10px;
    }

    p{
      order: 0;
      margin-top:@gs/2;
      margin-bottom: @gs/2;
      width:100%;
      font-weight: normal;
      font-family:@ff_default;
    }

    md-select{
      padding: 0;
    }

    md-switch{
      width: 100%;
    }

    .md-button{
      margin:0;
      padding:0;
      min-width: 24px;
    }

    &.adjustments--slide-and-input{
      margin-bottom: -@gs; // to visually align slide + input (slider has margin button for ripple)
    }
  }

  &__tip{
    margin-top:@gs*2;
    color:@col_gray_7;
  }

  &__controls{
    //control size
    @ctrl_size: 38px;
    margin-top: -3px;
    border-radius:@br;
    .col(@col_gray_4, b);
    padding: 0;
    width:100%;
    display:flex;
    min-height:@ctrl_size;

    a, input, button, md-select{
      margin-top:0;
      margin-bottom:0;
      flex-basis:100%;
      .col(@col_text);
      height: 35px;
      line-height: 35px;
      text-align: center;
      border-right: @bstm @col_gray_5;
      flex-shrink:1;
    }

    .md-input{
      padding:0 @gs;
      .ta-l();
    }

    md-select{
      md-select-label{
        border-bottom: 0;
        padding:0 @gs;
        width:100%;
        .ta-l();
      }
    }

    md-input-container{
      padding:0;
    }

    .colorpicker{
      flex-shrink: 0;
    }

    .md-button{
      border-radius: 0;
      border: @bst transparent;
    }

    .md-button.md-raised{
      border-radius: 0;
      box-shadow: 0 0 0 0;
      border: @bst @ws;
    }

    &--single{
      .col(transparent, b);
      padding:0;
      margin-bottom:@gs/2;

      .md-button{
        border:0;
        min-height:@ctrl_size;
      }

      .md-button.md-raised{
        border-radius:3px;
      }
    }

    &--no-bg{
      background-color: transparent;
    }
  }

  &--slide-and-input{
    input{
      order:0;
      width: auto;
      flex-basis: 45px;
      max-width: 45px; //fixes a FF problem where the input would grow to 50%
      flex-shrink:0;
      margin-left: auto;
      position: relative;
      top: 13px; //visually align with title
      line-height:13px;
      font-size:@fs_small;

      &[type="number"]{
        height: 1.5em;
      }
    }

    h3{
      width: auto;
    }

    input{
      height: 2em; //IE fix
    }

    &__unit{
      margin-top: 29px;
      font-size:@fs_small;
      position:relative;
      top:3px;
    }

    &__slide{
      width:100%;
    }
  }

  &--inline-info{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding:0;

    &__item{
      font-family:@ff_default;
      font-size:@fs_small;
      margin-right: @gs/2;
    }
  }

  &--bundle{
    md-select-value.md-select-value{
      padding-top: 0;
      padding-bottom: 5px;
    }

    &:last-child{
      margin-top:-3px; //merge to hide own border radius top left & right
    }
  }

  &--compact{
    &__controls{
      display:flex;

      h3{
        margin:0;
        color:@col_gray_7;
        font-weight: bold;
      }

      .md-input-container{
        flex-direction:column-reverse;
      }
    }
  }
}

.is-dialog{
  overflow:auto;
  padding-top: 60px;

  & > md-dialog-content{
    width: 100%;
    padding:@gs*2;
  }

  .confirm{
    h4{
      margin-bottom:0;
    }

    p{
      margin-bottom:@gs*2;
    }
  }

  .md-button{
    margin:0;
  }

  md-dialog-content{
    .md-button{
      margin-right:@gs/2; // Multiple buttons
    }
  }

  md-toolbar{
    position: absolute;
    top:0;
  }

  .md-toolbar-tools{
    padding:0 27px 0 @gs*2; //align with content; (x) has hardcoded padding because of position while not focused

    .md-button{
      margin-left:@gs;
    }

    .md-icon-button{
      //Makes fa buttons (like close) bigger in the header
      .fa{
        margin-right: 0;
        font-size: 18px;
      }
    }
  }

  .md-icon-button.md-button{
    margin-left:auto;
  }

  &--flexible{
    width:auto;
  }

  &--small{
    @media only screen and (min-width:@bp_lg){
      max-width:480px;
    }
  }

  &--medium{
    @media only screen and (min-width:@bp_lg){
      max-width:580px;
    }
  }

  &--large{
    @media only screen and (min-width:@bp_lg){
      max-width:740px;
    }
  }

  &__header{
    margin-top:-@gs;

    &__inner{
      display:flex;
      justify-content:space-between;
      margin-bottom:@gs;
    }
  }
}

// fa + text block
.is-fa-text{
  display:flex;
  align-items: center;

  .fa-main{
    flex-shrink:0;
    padding:@gs;
    margin-right:@gs;
    font-size:40px;
  }

  h3{
    margin: @gs 0;
  }

  &__inner{
    md-select{
      margin-top:0;
      margin-bottom:0;
    }
  }

  &--spaced{
    padding:0 @gs;
  }

  &--with-button{
    width:100%;
    padding:@gs;

    .is-fa-text__inner{
      width:100%;
      display:flex;
      justify-content:space-between;
      align-items:baseline;
    }
  }

  &--right{
    .fa-main{
      order: 2;
      margin-left: 16px;
      margin-right: 0;
    }
  }
}

.is-content-actions{
  padding:@gs;
}

//Hints
.hint-row{
  width:100%;
  margin:0 0 @gs 0; //margin top prevents error messages from overlapping
  .rel();
  left:-18px;
  padding: @gs/2 15px;
  border-left: @bstt transparent;
  transition:all 0.3s ease;
  font-size:@fs_small;

  &--no-spacing-top{
    margin-top:@gs/2;
  }

  .hint-title{
    cursor:pointer;
    .col(fade(@col_base_4, 70%));
    .animate(@animation_time_short, @transition_default);

    &:hover{
      .col(@col_base_4);
      .animate(@animation_time_short, @transition_default);

      .fa{
        transform:scale(1.1);
      }
    }
  }

  .hint-content{
    margin-top:@gs;
  }

  .fa{
    font-size:18px;
    margin-right:3px;
    .rel();
    top:2px;
  }

  p{
    font-size:0.9em;
    margin-top:5px;
    margin-bottom:0;
    padding-bottom:0;
  }

  &.active{
    border-left: @bstt @col_base_3;
    transition:all 0.3s ease;
    margin-bottom:@gs*2;
  }
}

//Hint Animation
.hint-row{
  .ng-hide-remove, .ng-hide-add, .ng-hide-add-active, .ng-hide-remove-active{
    transition:all 0.2s ease;
  }

  .ng-hide-add{
    opacity:1;
    animation:0.2s fadeOut;
  }

  .ng-hide-remove{
    opacity:1;
    animation:0.2s fadeInUp;
  }
}

//Collapsible elements
.collapsible{
  padding:0 0 @gs 0;
  position:relative;

  i{
    margin-right:4px;
  }

  &__title{
    display:inline-block;
    transition:all 0.2s ease;
    color:@col_base_4;
    margin-bottom:@gs;

    &:hover{
      outline:0;
      transition:all 0.2s ease;
      color:@col_gray_7;
    }
  }

  &__content{
    display:flex;
    flex-direction: column;
    width:100%;
  }

  &--open{
    .collapsible__title{
      color:@b;

      i{
        position:relative;
        top:-1px;
      }

      &:hover{
        color:@col_gray_7;
      }
    }

    .collapsible__content{
      &:before{
        content:"";
        display:block;
        margin-left: -@gs*2;
        margin-right: -@gs*2;
        padding: @gs @gs*2;
        width:~"calc(100% + @{gs}*4)";
        height: ~"calc(100% - @{gs}*4)";
        background-color:fade(@col_base_4, 5%);
        left: 0;
        top: @gs*2;
        position: absolute;
      }
    }
  }
}

//Custom sections (s): footer-danger, footer-success
.is-s{
  margin-left: -@gs*2;
  margin-right: -@gs*2;
  padding: @gs @gs*2;

  &--collapsibles{
    .col(@col_gray_3, b);
    padding:0;
    margin-bottom:@gs;

    .collapsible{
      padding: @gs @gs*2 0 @gs*2;
      border-bottom:@bst @col_gray_4;

      &__title{
        width:100%;
      }

      &__content{
        padding-top:@gs/2;

        &:before{
          background:0;
        }
      }
    }
  }

  &--danger{
    .col(lighten(@red, 35%), b);
  }

  &--note{
    .col(fade(@col_base_4, 5%), b);
  }

  &--inline{
    margin:0;
  }

  &--tight{
    margin-top:0;
    padding:0 @gs*2;
    margin-bottom:@gs;
  }
}

/* Screen size ratio display */
.ratio{
  display:flex;
  flex-wrap:wrap;
  justify-content: space-between;
  margin-bottom:@gs*3;

  &__container{
    width:90px;
    height:90px;
    flex-shrink:0;
    align-items:center;
    justify-content:center;
    background-color:@ws;
    display:flex;

    &__item{
      flex-shrink:0;
      background-color: @col_base_3;
      color: @w;
      display:flex;
      justify-content:center;
      align-items:center;
      cursor: pointer;

      &:after{
        height:2px;
        width:100%;
        color:@col_base_1;
        position:absolute;
      }

      &:hover, &:focus{
        background-color: @col_base_4;
        outline:0;
      }

      &--16-9{
        width: 96%;
        height: 54%;
      }

      &--16-10{
        width: 96%;
        height: 60%;
      }

      &--4-3{
        width: 80%;
        height: 60%;
      }

      &--9-16{
        width: 56%;
        height: 96%;
      }

      &--selected{
        background-color: @col_base_4;
      }
    }
  }
}

/* Drop-list: two columns, 1 with available items and 1 with added items. */
@drop_list_li_height: 56px;
.is-drop-list{
  display:flex;
  margin-bottom:@gs;

  &__col{
    flex-basis:50%;
    margin-right:@gs;

    ul{
      position:relative;
      list-style-type:none;
      min-height:@drop_list_li_height*2;
      height:100%;
    }

    li:not(.is-drop-list__col__tip){
      padding:0 @gs;
      min-height: @drop_list_li_height;
      .col(@ws, b);
      border-bottom: @bst @col_gray_5;
      .animate(@animation_time_short, @transition_default);
      cursor:move;
      display:flex;
      align-items:center;

      &:before{
        content:"\f0cb";
        .font-awesome();
        margin-right:@gs/2;
      }

      &:nth-child(even){
        .col(@col_gray_4, b);
      }

      &:hover{
        .col(@col_gray_5, b);
        .animate(@animation_time_short, @transition_default);
      }
    }

    .md-button{
      .fa{
        margin-left:3px;
      }
    }

    &__tip{
      position:absolute;
      top:0;
      left:0;
      color:@col_gray_6;
      width:100%;
      height: 100%;
      padding:@gs*2;
      display:flex;
      align-items:center;

      &:before{
        visibility: hidden;
      }

      &:hover{
        .col(@ws, b);
      }
    }

    &--available{
      ul{
        padding:0;
      }
    }

    &--added{
      .rel();
      display: flex;
      flex-direction: column;

      ul{
        flex-grow:1;
        padding:0;
        margin:0;
        border: 1px dashed @col_gray_5;
        background-color:@ws;
        margin-bottom: 10px; //visually align

        .md-button{
          margin-left:auto;
        }
      }
    }
  }
}

/* Share form and layout */
.is-share{
  &__input{
    input{
      order:1;
    }

    md-checkbox{
      order:2;
      margin:0;
    }
  }

  &__list{
    margin-top:@gs;

    &--with-users{
      .is-s{
        background-color:@col_gray_5;
      }

      .md-subheader{
        padding-top:0;
        border-bottom:@bst @col_gray_3;

        p{
          margin:@gs @gs @gs/2 @gs;
          color:@col_gray_6;
          font-weight:400;
        }
      }
    }
  }

  // Reduce space for list items
  .is-list{
    margin-bottom:0;

    .is-list-item{
      padding-top: 0;
      padding-bottom: 0;
    }
  }
}

/* Slide rules */
.is-rules{

}

/* Keyboard shortcut UI */
.key-container{
  display:flex;
  justify-content:center;
  padding-top:@gs;
}

.keys{
  display:flex;
  flex-wrap:wrap;
  flex-direction:row-reverse;

  dd, dt{
    display:inline-block;
  }

  dd{
    height:25px;
    flex-basis:50%;
    margin-bottom:@gs;
    flex-grow:0;
    flex-shrink:0;
    text-align:right;
    padding-right:@gs/2;
    display: flex;
    align-items: center;
    justify-content: flex-end;
  }

  dt{
    flex-basis:50%;
    flex-grow:0;
    flex-shrink:0;
    height:25px;
    display: flex;
    padding-left:@gs/2;
    align-items: center;

    em{
      font-size:0.8em;
      font-weight: 300;
      text-decoration: none;
      font-style: normal;
      padding:@gs/2;
      background-color:@col_gray_3;
      border-radius:3px;
      border:@bst @col_gray_4;
      margin: 0 @gs/2;
    }
  }
}


/* Date / time formatting */
.fine-schedule{
  md-checkbox{
    margin-left:0;
    font-size:0.8em;
  }
}

/*
 * Color picker enhancements
 */
.colorpicker{
  flex-shrink: 0;
  display:flex;
  justify-content: center;
  align-items: center;

  .sp-replacer{
    background-color: #E8E8E8;
    border: 0;
    padding: @gs/2 @gs;
  }

  .sp-dd{
    .rel();
    top:-1px;
  }

  &--single{
    width:100%;

    .sp-replacer{
      width:100%;
    }

    .sp-preview{
      width: ~'calc(100% - 18px)';
    }
  }

  &--margin-top{
    margin-top:@gs;
  }
}
//Color picker container
.sp-container{
  border-radius: @br;
  .col(@w, b);
  border: @bst @col_gray_5;
  .boxshadow-round();
  padding: 8px;

  input{
    line-height:30px;
    min-height:30px;
    padding:0 @gs/2;
  }

  .sp-button-container{
    margin-top: 10px;
    .fl();
  }

  .sp-cancel{
    //Don't display cancel, clicking anywhere outside the box will cancel (same behaviour in PS, AI, Sketch, etc.)
    display:none;
    font-family:@ff_default;
    .col(@col_text);
    font-size:@fs_small;

    &:hover, &:focus{
      text-decoration: none;
    }
  }

  .sp-choose{
    font-family:@ff_default;
    background:0;
    .col(@col_gray_4, b);
    .col(@col_text);
    border:@bst @col_gray_5;
    font-size:@fs_small;
    padding:@gs/2 @gs;

    &:hover, &:focus{
      outline:0;
      border:@bst @col_gray_5;
      background:0;
      .col(@col_gray_5, b);
      .col(@b);
    }

    &:active{
      box-shadow: none;
    }
  }
}

/*
 * Playlist slide effects / transitions
 */
.playlist-transitions{
  md-input-container{
    width:100%;
  }

  &__display{
    width:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-wrap: wrap;
    padding:@gs/2 @gs;
    margin:0 0 @gs 0;
    background-color:@ws;

    &__fig{
      position: relative;
      width: 100%;
      max-width:250px;
      height: 140px;
      overflow: hidden;

      &__overlay{
        position: absolute;
        width: 100%;
        max-width:250px;
        height: 140px;
        background:@b;
        z-index: 3;
        opacity: 0;
      }

      //class changed on #slide1, #slide2, can't add custom classes to it

      [id*="slide"]{
        position: absolute;
        width: 100%;
        max-width:250px;
        height: 140px;
        z-index: 2;
        overflow: hidden;
      }

      &__slide{
        display:flex;
        justify-content:center;
        align-items:center;
        height:100%;
        width:100%;
        color:@w;
        font-family:@ff_default;
        font-weight:bold;
        font-size:2em;

        &--1{
          background-color:@col_base_4;
          z-index: 2;
        }

        &--2{
          background-color:darken(@col_yellow, 10%);
          z-index: 1;
        }
      }
    }
  }
}


/*
 * Keyframe animations
 *
 */

//loader
@keyframes loaderAnimation{
  0% {
    transform: translate(-1160px,15px)  ;
  }
  100% {
    transform: translate(0px,15px)  ;
  }
}

//spinner
@keyframes spinnerAnimation{
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate( 180deg );
  }
}

//star rating pop
@keyframes dropDown {
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes dropUp {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(2.5);
  }
}


//simple spinner rotation
@keyframes rotation {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
}

/*
 * Global properties
 * Can be added as a class to any element
 *
 */
.round-image{ //figure
  img{
    max-width: 77px;
    .fl();
    border: @bst rgba(121, 143, 163, 0.35);
    .round();

    @media only screen and (min-width:@bp_md){
      max-width: 85px;
    }
  }

  figcaption{
    .fl();
    margin-left:30px;
  }
}

.rectangular-image{
  .rel();

  img{
    .fr();
  }
}

.no-padding{
  [class*='row-']{
    padding:0;
  }
}

.bold{
  .b();
}

.silent{
  .light();
  color: @col_gray_6;
}

.rounded{
  .round();
}

.inverse{
  [class*="is-label-"]{
    .col(@ws);
  }

  a{
    .col(@col_gray_4);

    &:hover{
      .col(@ws);
    }
  }
}

//generate with bootstrap
.to-xs{
  @media only screen and (min-width:@bp_xs){
    .h();
  }
}

.to-sm{
  @media only screen and (min-width:@bp_sm){
    .h();
  }
}

.to-md{
  @media only screen and (min-width:@bp_md){
    .h();
  }
}

.to-lg{
  @media only screen and (min-width:@bp_lg){
    .h();
  }
}

.to-xl{
  @media only screen and (min-width:@bp_xl){
    .h();
  }
}

.to-xxl{
  @media only screen and (min-width:@bp_xxl){
    .h();
  }
}

.from-xs{
  .h();

  @media only screen and (min-width:@bp_xs){
    .inline-block();
  }
}

.from-sm{
  .h();

  @media only screen and (min-width:@bp_sm){
    .inline-block();
  }
}

.from-md{
  .h();

  @media only screen and (min-width:@bp_md){
    .inline-block();
  }
}

.from-lg{
  .h();

  @media only screen and (min-width:@bp_lg){
    .inline-block();
  }
}

.from-xl{
  .h();

  @media only screen and (min-width:@bp_xl){
    .inline-block();
  }
}

.from-xxl{
  .h();

  @media only screen and (min-width:@bp_xxl){
    .inline-block();
  }
}


/*
 * Ugly bugfixes
 */
canvas {
  letter-spacing: 0 !important; //fix for fabric itext canvas kerning
}
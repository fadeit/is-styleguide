/*
 * Importing variables and mixins to keep this file clean
 *
 */
 @import './variables.less';
 @import './mixins.less';

/*
 * Web fonts
 *
 */

 @font-face {
  font-family: 'PNL';
  src: url('./fonts/pnl-webfont.eot');
  src: url('./fonts/pnl-webfont.eot?#iefix') format('embedded-opentype'),
  url('./fonts/pnl-webfont.woff') format('woff'),
  url('./fonts/pnl-webfont.ttf') format('truetype'),
  url('./fonts/pnl-webfont.svg#proxima_novalight') format('svg');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'PNL';
  src: url('./fonts/pnsb-webfont.eot');
  src: url('./fonts/pnsb-webfont.eot?#iefix') format('embedded-opentype'),
  url('./fonts/pnsb-webfont.woff') format('woff'),
  url('./fonts/pnsb-webfont.ttf') format('truetype'),
  url('./fonts/pnsb-webfont.svg#proxima_novalight') format('svg');
  font-weight: bold;
  font-style: bold;
}

//icons
@font-face {
  font-family: 'ols';
  src: url('./fonts/ols.eot');
  src: url('./fonts/ols.eot?#iefix') format('embedded-opentype'),
  url('./fonts/ols.woff') format('woff'),
  url('./fonts/ols.ttf') format('truetype'),
  url('./fonts/ols.svg#proxima_novalight') format('svg');
  font-weight: normal;
  font-style: normal;
}

.ols-svg{
  .inline-block();
}

/*
 * Forms and inputs (also includes some link styles [outlines/focus])
 *
 */
a,
textarea,
input[type] {
  outline-color: @col_base_2;

  &:focus{
    outline-style: thin solid;
    outline-color: @col_base_2;
  }
}

textarea,
input[type] {
  outline: 0;
  border: 0;
  border-bottom:@bstm @col_gray_6;

  &:focus{
    border-bottom:@bstm @col_base_4;
  }
}

textarea{
  line-height: 2;
  max-width:100%;
}

.input-row{
  margin-top:15px;
  padding-top:15px;
  .rel();

  label{
    .animate(@animation_time_s_short, @transition_default);
    .stretch();
    .inline-block();
    .abs();
    cursor:text;
  }

  input[type], textarea{
    .stretch();
  }

  textarea{
    padding-top:0;
  }

  .placeholder-color(@w);
  .placeholder-hide();
  //animate placeholder transitions
  .placeholder-animate();
}

.input-row.has-error{
  label{
    .col(red);
  }

  input[type], textarea{
    border-color:red;
    .col(red);
  }
}

.input-row.input-focused{
  label{
    margin-top:-20px;
    font-size:@fs_small - 1;
    .col(@col_base_4);
  }

  input, textarea {
    border-bottom:@bstm @col_base_4;
  }

  .placeholder-show();
  .placeholder-color(@col_gray_6);
}

/*
 * Core browser display
 *
 */
::selection{
  .col(@col_base_2, b);
  .col(@w);
}
::-moz-selection{
  .col(@col_base_2, b);
  .col(@w);
}


/*
 * Headings: Generating all styles
 *
 */
 @font_size_selector:    "fs_h";
 @line_height_selector:  "lh_h";
 @mobile_font_size_selector:    "m_fs_h";
 @mobile_line_height_selector:  "m_lh_h";

 .generate_headings(@i) when (@i > 0) {
  .generate_headings((@i - 1));

  @font-size: ~"@{font_size_selector}@{i}";
  @line-height: ~"@{line_height_selector}@{i}";
  @mobile-font-size: ~"@{mobile_font_size_selector}@{i}";
  @mobile-line-height: ~"@{mobile_line_height_selector}@{i}";

  h@{i}{
    font-size: @@mobile-font-size;
    line-height: @@mobile-line-height;

    @media only screen and (min-width:@bp_md){
      font-size: @@font-size;
      line-height: @@line-height;
    }
  }
}

  //Generate headings
  .generate_headings(5);

/*
 * Headings: Global properties
 *
 */
  h1, h2, h3, h4, h5{
    font-family: @ff_light;
  }

  //fixes h1 h2 first letter kerning
  h1 {
    margin-left: -2px;
  }

  h2 {
    margin-left: -1px;
  }

  h4{
    .b();
  }

  h5{
    .b();
  }

/*
 * Paragraphs & other typographical elements
 *
 */
body {
  .light();
  font-size: 15px;
  line-height: 22px;
  letter-spacing: 0.5px;
}

p{
  margin-bottom:20px;
  font-size: @m_fs_body;
  line-height: @m_lh_body;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_body;
    line-height: @lh_body;
  }
}

.ols-label-lg{
  font-size: @m_fs_h2;
  line-height: @m_lh_h2;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_h2;
    line-height: @lh_h2;
  }
}

.ols-label-md{
  font-size: @m_fs_h4;
  line-height: @m_lh_h4;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_h4;
    line-height: @lh_h4;
  }
}

.ols-labels-sm{
  font-size: @m_fs_body + 1;
  line-height: @m_lh_body + 2;

  @media only screen and (min-width:@bp_md){
    font-size: @fs_body + 1;
    line-height: @lh_body + 2;
  }
}

[class*='ols-label-']{
  .col(@col_text);
}

/*
 * Layout and scaffolding
 *
 */
.container-fluid, .row-fluid{
  .clearfix();
}

.container-height-xs {
  display:table;
  padding-left:0px;
  padding-right:0px;
}

.row-height-xs{
  display:table-row;
}

.col-height-xs{
  display:table-cell;
  float:none;
}

@media only screen and (min-width: @bp_sm) {
  .container-height-sm {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-sm {
    display:table-row;
  }

  .col-height-sm {
    display:table-cell;
    float:none;
  }
}

@media only screen and (min-width: @bp_md) {
  .container-height-md {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-md {
    display:table-row;
  }

  .col-height-md {
    display:table-cell;
    float:none;
  }
}

@media only screen and (min-width: @bp_lg) {
  .container-height-lg {
    display:table;
    padding-left:0px;
    padding-right:0px;
  }

  .row-height-lg {
    display:table-row;
  }

  .col-height-lg {
    display:table-cell;
    float:none;
  }
}

.height-top{
  [class*='col-height-']{
    vertical-align: top;
  }
}

.height-bottom{
    [class*='col-height-']{
    vertical-align: bottom;
  }
}

.height-center{
  [class*='col-height-']{
    vertical-align: center;
  }
}

.ols-aside-contact{
  padding: 20px 30px 20px 30px;
  .col(@col_gray_6, b);

  header{
    .clearfix();

    h5.ols-label-sm{
      .rel();
      top: 10px;
      margin-top: 5px;
      .col(@col_gray_4);
    }

    .round-image{
      img{
        @media only screen and (min-width:@bp_xl){
          max-width: 130px;
        }
      }

      figcaption{
        margin-left: 15px;

        @media only screen and (min-width:@bp_xl){
          margin-top: 20px;
        }
      }
    }
  }

  .contact-body{
    margin-top: 20px;
    border-top: 1px solid #737375;

    dt{
      margin-top:20px;
    }

    dd{
      .col(@col_gray_4);
    }
  }
}

.ols-aside-right, .ols-aside-left{
  .stretch(h);
  .abs();
}

.ols-aside-right{
  right: 0;
}

.ols-aside-left{
  left:0;
}

.sidebar-fixed{
  .fix();
  top: 0;
  overflow: scroll;
}
/*
 * Lists
 *
 */
.ols-company-result-list{
  padding:0;
  list-style-type: none;

  a{
    .clearfix(); //<a> is a parent, but it's not mandatory to nest the li as a child (much more flexible this way)
  }

  li{
    padding: 15px;
    .col(@col_gray_3, b);
    .animate(@animation_time_short, @transition_default);

    @media only screen and (min-width:@bp_md){
      padding: 30px;
    }

    &:nth-child(even){
      .col(@w, b);
    }

    &:hover{
      .col(@col_gray_4, b);
      .animate(@animation_time_short, @transition_default);
    }

    [class*='ols-label']{
      margin:0;
      .light();

      &:nth-child(1){
        .b();
      }

      &:nth-last-child(2){
        margin-bottom: 20px;
      }
    }

    .ols-label-md{
      line-height: 16px;

      @media only screen and (min-width:@bp_md){
        line-height: 22px;
      }
    }
  }
}

//project list: rectangular images on the right
.ols-company-project-list{
  li{
    padding:0;

    figcaption{
      padding:30px;
    }
  }
}

//uniform list (no alt. colors)
.ols-uniform-list{
  li{
    .col(@ws, b);
    border-top:@bst @col_gray_4;

    &:nth-child(even){
      .col(@ws, b);
    }

    &:hover{
      .col(@col_gray_4, b);
    }
  }
}

//service list
.ols-service-list{
  margin:0 0 20px 0;

  ul{
    list-style-type: none;
    padding: 0 10px 0 10px;

    @media only screen and (min-width:@bp_md){
      padding:0;
    }

    li{
      margin-top:20px;

      &:before{
        content:'';
        .inline-block();
        background-repeat: no-repeat;
        background-image: url(images/svg-sprite.svg);
        background-position: 0 99.84956407772523%;
        width: 16.26px;
        height: 13.255px;
        margin-right: 5px;
        .rel();
        top: 1px;
        .col(@col_gray_6);
      }
    }
  }
}

/*
 * Navigation
 *
 */
.ols-search-row{
  height:@ld_dropdown_size;
  .col(@w, b);
  border:@ld_border_size solid @col_gray_2;
  border-left:none;
  .rel();
  letter-spacing: 2px;
  margin: 50px 90px 20px 90px;
  width: ~"calc(100% - @{ld_side_margins}*2)";

  &:before{
    content:"";
    .col(@col_gray_7, b);
    .stretch(h);
    width:4px;
    .abs();
    left:0;
    top:0;
  }

  &:after{
    content:"";
    .col(@col_base_3, b);
    .stretch(h);
    width:4px;
    .abs();
    right:0;
    top:0;
  }

  [class*="ols-label-"]{
    .col(@col_gray_1, b);
    .col(@col_gray_7);
    .inline-block();
    .fl();
    padding:0 20px 0 20px;
    height: @ld_dropdown_size - 2 * @ld_border_size;
    line-height: @ld_dropdown_size - 2 * @ld_border_size;
  }

  .ols-large-search{
    .dropdown-toggle, .dropdown-menu{
      .col(@w, b);
      .col(@col_gray_6);
      font-family: @ff_light;
      font-size: @fs_h1;
      .light();
      padding: 0 0 0 20px;
      border: none;
      line-height: @ld_dropdown_size - 2 * @ld_border_size;
      .fl();

      &:active{
        opacity:0.8;
      }

      &:focus{
        opacity:0.8;
        margin-left:-1px;
        border-left:@bst @col_base_1;
      }
    }

    .dropdown-menu{
      padding:0px;
      font-size:@fs_h3;
      letter-spacing: 1px;
      min-width: 260px;
      .col(@col_gray_1, b);
      border:@bst @col_gray_2;
      border-top:none;
      margin-top:0;
      margin-left:-1px;

      li{
        a{
          padding:10px 20px 10px 20px;

          &:hover{
            .col(@col_gray_4, b);
          }
        }
      }
    }

    //update
    .ols-svg{
      .rel();
      top:-3px;
      margin-left:5px;
    }
  }
}

//add chapter - images
//change these
.ols-image-services{
  //edit cog bg
}

.ols-image-services{
  background-image: url('/assets/images/_image_menu_services.svg');
}

.ols-image-projects{
  background-image: url('/assets/images/_image_menu_projects.svg');
}

.ols-menu-container{
  border-right:@bst @col_gray_4;
  border-left:@bstt @col_base_3;

  .ols-menu{
    .col(@w, b);

    ul{
      padding-left: 0;

      li{
        list-style-type: none;
        border-bottom:@bst @col_gray_4;
        padding: 5px 10px 5px 10px;
        .animate(@animation_time_short, @transition_default);

        &:hover{
          .animate(@animation_time_short, @transition_default);
          .col(@col_gray_3, b);
        }

        a{
          width:100%;
          color:@col_text;
          line-height:@menu_image_height;
          .inline-block();
          text-overflow: ellipsis;
          white-space: nowrap;
          overflow: hidden;

          .menu-icon{
            .inline-block();
            .fl();
            border:@bst @col_base_3;
            margin-right:15px;
            height:@menu_image_height;
            width:@menu_image_height;
            background-repeat:no-repeat;
            background-position: center;
            .col(@w, b);
          }
        }
      }

      li.active{
        .col(darken(@col_gray_4, 5%), b);

        &:hover{
          .col(darken(@col_gray_4, 5%), b);
        }

        a{
          cursor:default;
        }
      }

      li.highlighted{
        .col(@col_base_2, b);
        border-bottom: @bst darken(@col_base_2, 5%);

        &:hover{
          .col(darken(@col_base_2, 5%), b);
        }

        a{
          .col(@w);

          .menu-icon{
            .col(@col_base_3, b);
          }
        }
      }

      li.highlighted.active{
        .col(@col_base_3, b);
        border-bottom:@bst darken(@col_base_3, 5%);

        &:hover{
          .col(@col_base_3, b);
        }

        a{
          cursor:default;
        }
      }

      li.submenu{
        padding: 0;
        border:none;

        ul{
          li{
            padding: 5px 10px 0px 17px;
            .col(@col_gray_3, b);
            border-bottom:@bst darken(@col_gray_3, 5%);

            &:hover{
              .col(darken(@col_gray_3, 5%), b);
            }

            a{
              line-height: 35px;

              .menu-icon{
                margin-right:22px;
                height:@submenu_image_height;
                width:@submenu_image_height;
              }
            }
          }

          li.active{
            .col(darken(@col_gray_4, 10%), b);

            &:hover{
              .col(darken(@col_gray_4, 10%), b);
            }
          }
        }

        ul.highlighted{
          li{
            .col(@col_base_2, b);
            border-bottom:@bst darken(@col_base_2, 5%);

            &:hover{
              .col(darken(@col_base_2, 5%), b);
            }

            a{
              .col(@w);
            }
          } //li

          li.active{
            .col(darken(@col_base_3, 5%), b);
            border-bottom:@bst darken(@col_base_3, 5%);

            &:hover{
              .col(darken(@col_base_3, 5%), b);
            }
          } //li.active
        } //ul.highlithed
      } //submenu
    } //ul
  } //ols-menu
} //ols-menu-container
/*
 * Global properties
 * Can be added as a class to any element
 *
 */
.round-image{ //figure
  img{
    max-width: 77px;
    .fl();
    border: 2px solid @col_base_3;
    .round();

    @media only screen and (min-width:@bp_md){
      max-width: 85px;
    }
  }

  figcaption{
    .fl();
    margin-left:30px;
  }
}

.rectangular-image{
  .rel();

  img{
    .fr();
  }
}

.no-padding{
  [class*='row-']{
    padding:0;
  }
}

.bold{
  .b();
}

.silent{
  .light();
  color: @col_gray_6;
}

.rounded{
  .round();
}

.inverse{
  [class*="ols-label-"]{
    .col(@ws);
  }

  a{
    .col(@col_gray_4);

    &:hover{
      .col(@ws);
    }
  }
}